module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t={};this.getAttemptToRemove=function(){return t.attemptToRemove},this.setAttemptToRemove=function(e){t.attemptToRemove=e},this.setDraggedElement=function(e){t.draggedElement=e},this.getDraggedElement=function(){return t.draggedElement},this.registerPaletteElements=function(e){t.registeredPaletteElements=e},this.getRegisteredPaletteElements=function(){return t.registeredPaletteElements||[]},this.setDropPostion=function(e){t.dropPosition=e},this.getDropPostion=function(){return t.dropPosition},this.error=console.error,this.log=console.log};t.default=r},function(e,t){e.exports=require("react")},function(e,t,n){e.exports=n(18)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(14),i=(r=a)&&r.__esModule?r:{default:r};var s=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t={},n=["id","type","name","payload","dropzoneID","parentID"];t.tree=[{id:"root",fields:[]}];var r=function e(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.tree,a=o.find(function(e){return e.id===r});if(!a)for(var i=0;i<o.length;i++){var s=o[i];if(s.fields){var l=e(n,r,s.fields);if(l)return l}}return a},a=function(e,t,n){var o=r(t,n);return o?o.fields.find(function(t){return t.id===e}):null},s=function(e,t){var r={};return e?(Object.keys(e).forEach(function(o){"function"!=typeof e[o]&&(t||!t&&-1!==n.indexOf(o))&&(r[o]=e[o])}),r):null},l=function(){return s(a.apply(void 0,arguments))};this.updateState=function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=arguments[4];!function e(n,r,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.tree,i=a.find(function(e){return e.id===r}),s=!1;if(i){if(n===r)i.fields=o;else if(i.fields&&o.length){var l=[];i.fields.filter(function(e){return e.dropzoneID===n}).length!==o.length?i.fields=o.concat(i.fields.filter(function(e){return e.dropzoneID!==n})):(o.forEach(function(e){-1===i.fields.findIndex(function(t){return t.id===e.id})&&l.push(e)}),l.length||(i.fields=o,i.fields=i.fields.map(function(e){return o.find(function(t){return t.id===e.id})||e}))),l.length&&(i.fields=i.fields.concat(l))}else n&&i.fields?i.fields=i.fields.filter(function(e){return e.dropzoneID!==n}):i.fields=o;s=!0}else for(var u=0;u<a.length;u++){var f=a[u].fields,c=!1;if(f&&(c=e(n,r,o,f)),c)break}return s}(e,n,r),o(t.tree),i.default.notifyStateChange(),a&&i.default.notifyElementRemove({dropzoneID:e,parentID:n,dispatchElementRemove:a,trashed:!0})},this.getElementParent=r,this.getElement=l,this.removeElement=function(e,t,n,r){var o=a(e,t,n);return!!o&&(o.removeElement(e,r),i.default.notifyElementRemove({elementID:e,dropzoneID:t,parentID:n,trashed:!1}),!0)},this.updateElement=function(e,t,n,r,s){var u=a(e,t,n);return!!u&&(u.updateElement(o({},r,{id:e}),s),i.default.notifyElementUpdate(l(e,t,n)),!0)},this.getState=function(){return t.tree},this.getStorableState=function(){return t.tree[0].fields.map(function(e){return function e(t){var n=[],r=s(t,!0);return t.fields&&t.fields.length&&t.fields.forEach(function(t){n.push(e(t))}),n.length&&(r.initialElements=[],r.fields=[],n.forEach(function(e){r.initialElements.push(e),r.fields.push(e)})),r}(e)})},this.clearState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=t.tree[0],r=n.fields.length;return n.fields.length||(i.default.notifyStateFlush(),e()),n.fields.forEach(function(t,n){t.flushDroppedElements(function(){n===r-1&&(i.default.notifyStateFlush(!0),e())})}),!0},this.addEventListener=i.default.addEventListener,this.removeEventListener=i.default.removeEventListener};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=f(a),s=f(n(2)),l=f(n(3)),u=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p.call(n),n.canvasRef=i.default.createRef(),n.state={initialElements:[],droppedElements:[],initDone:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentWillMount",value:function(){this._setInitialElements(this.props.initialElements)}},{key:"componentWillReceiveProps",value:function(e){var t=e.initialElements;this._setInitialElements(t)}},{key:"render",value:function(){var e=this,t=this.state.droppedElements,n=this.props,o=n.capacity,a=n.id,s=n.placeholder,l=!o||o>t.length;return i.default.createElement("div",{ref:this.canvasRef,className:(l?"":"no-space")+" "+("root"===a?"canvas":"")+" "+(t.length?"":"empty")+" dropzone",onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDragEnter:this._onDragEnter,onDrop:this._onDrop,onDragEnd:this._onDragEnd},t.map(function(t,n){return e._renderDragItem(r({},t,{index:n,spaceAvailable:l,initDone:e.state.initDone,dropzoneProps:{initDone:e.state.initDone,parentID:t.id}}))}),t.length?null:i.default.createElement("p",{className:"dropzone-placeholder"},s))}}]),t}(),p=function(){var e=this;this.dangerouslySetElements=function(t,n){var o=[];o="function"==typeof t?t(e.state.droppedElements)||[]:t;var a=e.props,i=a.id,s=a.parentID;o=o.map(function(t){return r({},t,{dropzoneID:i,parentID:s,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,updateElement:e._updateElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement})}),e.setState({initialElements:o,droppedElements:o},function(){return e._updateState(n)})},this._unmarkDragElements=function(){[].forEach.call(e.canvasRef.current.querySelectorAll(".drag-item"),function(e){return e.classList.remove("before","after")})},this._setInitialElements=function(t){if(Array.isArray(t)&&t.length&&!e.state.initDone&&!e.state.initialElements.length){var n=e.props,o=n.id,a=n.parentID,i=t.map(function(t){return r({},t,{key:t.id,dropzoneID:o,parentID:a,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,updateElement:e._updateElement,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement})});e.setState({initialElements:i,droppedElements:i},function(){return e._updateState(function(){e.setState({initDone:!0})})})}},this._manageInsideClass=function(t,n){var r=t.target;e.canvasRef.current===r&&r.classList[n]("inside")},this._removeElement=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments[2],o=e.state.droppedElements.findIndex(function(e){return e.id===t});e.setState({droppedElements:e.state.droppedElements.filter(function(e,t){return t!==o})},function(){return e._updateState(n,r?t:null)})},this._updateElement=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(-1===e.state.droppedElements.findIndex(function(e){return e.id===t.id}))return n(null);var o=["name","type","payload"],a={};return Object.keys(t).forEach(function(e){-1!==o.indexOf(e)&&(a[e]=t[e])}),e.setState({droppedElements:e.state.droppedElements.map(function(e){return e.id===t.id?r({},e,a):e})},function(){return e._updateState(n)}),!0},this._updateState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments[1],r=e.props,o=r.id,a=r.parentID;l.default.updateState(o,a,e.state.droppedElements,t,n)},this._flushDroppedElements=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e.setState({initialElements:[],droppedElements:[]},function(){return e._updateState(t)})},this._checkAndRemoveElement=function(){var t=u.default.getDraggedElement(),n=t.removeElement,r=t.elementID,o=e.props.onElementMove(t),a=!u.default.getAttemptToRemove();o&&a&&n(r)},this._onDragOver=function(e){e.preventDefault(),e.stopPropagation()},this._onDragLeave=function(t){e._manageInsideClass(t,"remove"),u.default.setAttemptToRemove(!0)},this._onDragEnter=function(t){e._manageInsideClass(t,"add"),u.default.setAttemptToRemove(!1)},this._onDrop=function(t){t.preventDefault(),t.stopPropagation();var n=e.state.droppedElements;u.default.setAttemptToRemove(!1),e._manageInsideClass(t,"remove");var o=e.props.onDrop,a=JSON.parse(t.dataTransfer.getData("data"));return a=r({},a),e._unmarkDragElements(),o?o(a,e._addElement,{dropIndex:n.length?0:u.default.getDropPostion()+1,currentElements:n}):e._addElement(a)},this._addElement=function(t){var n=e.props,o=n.id,a=n.capacity,i=n.parentID,s=n.allowHorizontal,l=u.default.getDropPostion(),f=u.default.getDraggedElement(),d=!t||!t.id,p=-1,m=t.id&&e.state.droppedElements.filter(function(e,n){return e.id===t.id&&(p=n,!0)}).length,h=p===l,v=[].concat(e.state.droppedElements),g=!1;if(d||m){if(h)return u.default.error("Duplicate or invalid ID");g=!0,v=v.map(function(e){return e.id===t.id?r({},e,{remove:!0}):e})}var b=r({},t,{key:t.id,dropzoneID:o,parentID:i,allowHorizontal:s,showBasicContent:!1,updateState:e._updateState,removeElement:e._removeElement,updateElement:e._updateElement,initialElements:e.state.initialElements,flushDroppedElements:e._flushDroppedElements,checkAndRemoveElement:e._checkAndRemoveElement});return v=l>0?[].concat(c(v.slice(0,l)),[b],c(v.slice(l))):[b].concat(c(v)),h||(v=v.filter(function(e){return!e.remove})),a&&v.length>a?u.default.error("Maximum capacity of canvas("+o+") is "+a):(e.setState({droppedElements:v},function(){!g&&f&&"function"==typeof f.checkAndRemoveElement&&f.checkAndRemoveElement(),e._updateState()}),e.canvasRef.current.classList.add("dropping"),setTimeout(function(){e.canvasRef.current.classList.remove("dropping")},500),{dropzoneID:o,elements:v})},this._renderDragItem=function(e){var t=u.default.getRegisteredPaletteElements().find(function(t){return t.type===e.type});return t?i.default.createElement(t.component,e):null}};d.propTypes={id:s.default.string.isRequired,capacity:s.default.number,onDrop:s.default.func,onElementMove:s.default.func,allowHorizontal:s.default.bool,initialElements:s.default.arrayOf(Object),parentID:s.default.string.isRequired,placeholder:s.default.oneOfType([s.default.string,s.default.node])},d.defaultProps={initialElements:[],placeholder:"Drop Here",onElementMove:function(){return!0}},t.default=d},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){var r,o,a={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,u=0,f=[],c=n(5);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=a[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(b(r.parts[i],t))}else{var s=[];for(i=0;i<r.parts.length;i++)s.push(b(r.parts[i],t));a[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}function m(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);t>=0&&f.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",g(t,e.attrs),m(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var i=u++;n=l||(l=v(t)),r=_.bind(null,n,i,!1),o=_.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",g(t,e.attrs),m(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return d(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var i=n[o];(s=a[i.id]).refs--,r.push(s)}e&&d(p(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var y,E=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function _(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=E(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([o]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){(e.exports=n(7)(!1)).push([e.i,"/* Very basic style */\n\n/* Prevent the text contents of draggable elements from being selectable. */\n[draggable] {\n  -moz-user-select: none;\n  -khtml-user-select: none;\n  -webkit-user-select: none;\n  user-select: none;\n\n  /* Required to make elements draggable in old WebKit */\n  -khtml-user-drag: element;\n  -webkit-user-drag: element;\n}\n\n/* class gets appended to canvas when user dragging over on it */\n.inside {\n  -webkit-box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\n  -moz-box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\n  box-shadow: inset 0 0 26px 0.5px rgba(20, 180, 81, 0.75);\n}\n\n.trash-box.inside,\n.dropzone.inside.no-space {\n  -webkit-box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.5);\n  -moz-box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.75);\n  box-shadow: inset 0 0 26px 0.5px rgba(230, 23, 23, 0.75);\n}\n\n.dropzone {\n  width: 100%;\n  padding: 10px;\n  position: relative;\n  box-sizing: border-box;\n  background: #f0faff;\n  border: 1px solid #0277bd;\n}\n\n.dropzone.empty {\n  padding: 40px;\n}\n\n.palette {\n  padding: 10px;\n  background: #fff;\n  box-sizing: border-box;\n  border: 1px solid #01579b;\n}\n\n.drag-item {\n  padding: 10px;\n  color: #01579b;\n  box-sizing: border-box;\n  background-color: #b3e5fc;\n  border: 1px solid #01579b;\n}\n\n.inline.drag-item {\n  margin: 0 10px;\n  display: inline-block;\n}\n\n.dropzone-placeholder {\n  width: 100%;\n  color: #01579b;\n  text-align: center;\n  position: absolute;\n  left: 0;\n  top: calc(50% - 10px);\n  animation-name: changeColor;\n  animation-duration: 2s;\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n}\n\n@keyframes changeColor {\n  25% {\n    transform: scale(1);\n    opacity: 1;\n  }\n\n  75% {\n    transform: scale(1);\n    opacity: 0.5;\n  }\n}\n\n.palette-wrapper .drag-item {\n  color: #fff;\n  background-color: #01579b;\n}\n\n.drag-item + div {\n  margin-top: 10px;\n}\n\n.drag-item.after,\n.drag-item.before {\n  position: relative;\n}\n\n.drag-item.after::after {\n  content: '';\n  position: absolute;\n  width: 50%;\n  height: 1px;\n  background: #14b451;\n  left: 50%;\n  bottom: -1px;\n  border-radius: 50%;\n  transform: translate(-50%, 0);\n  -webkit-box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\n  -moz-box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\n  box-shadow: 0px 4px 10px 0px rgba(20, 180, 81, 1);\n}\n\n.drag-item.before::before {\n  content: '';\n  position: absolute;\n  width: 50%;\n  height: 1px;\n  background: #14b451;\n  left: 50%;\n  top: -1px;\n  border-radius: 50%;\n  transform: translate(-50%, 0);\n  -webkit-box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\n  -moz-box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\n  box-shadow: 0px -1px 10px 0.3px rgba(23, 180, 81, 1);\n}\n\n.inline.drag-item.before::before {\n  width: 1px;\n  height: 50%;\n  left: -1px;\n  right: unset;\n  top: 50%;\n  transform: translate(0, -50%);\n}\n\n.inline.drag-item.after::after {\n  width: 1px;\n  height: 50%;\n  right: -1px;\n  left: unset;\n  top: unset;\n  transform: translate(0, -50%);\n}\n\n.trash-box {\n  padding: 30px 10px;\n  margin: 10px 0;\n  color: #b71c1c;\n  background: #ffcdd2;\n  text-align: center;\n  border: 1px solid #b71c1c;\n}\n",""])},function(e,t,n){var r=n(8);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),i=u(n(2)),s=u(n(0)),l=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onStateChange=function(e){n.setState({currentState:e})},n._renderElementInPreviewMode=function(e){var t={},o=n.registeredPaletteElements.find(function(t){return t.type===e.type});return Array.isArray(e.fields)&&e.fields.forEach(function(e){t[e.dropzoneID]=t[e.dropzoneID]||[],t[e.dropzoneID]=t[e.dropzoneID].concat(n._renderElementInPreviewMode(e))}),a.default.createElement(o.component,r({id:e.id,key:e.id,childNode:t},r({},e,{showPreview:!0,showBasicContent:!1})))},n.state={currentState:l.default.getState()},n.registeredPaletteElements=s.default.getRegisteredPaletteElements(),l.default.addEventListener(n._onStateChange),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this.state.currentState[0];return"function"==typeof this.props.children?this.props.children({children:e.fields.map(this._renderElementInPreviewMode)}):a.default.createElement("div",{className:"preview-container"},e.fields.map(this._renderElementInPreviewMode))}}]),t}();f.propTypes={children:i.default.func},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=l(o),i=l(n(2)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._manageInsideClass=function(e,t){var r=e.target;n.trashRef.current===r&&r.classList[t]("inside")},n._onDrop=function(e){e.preventDefault(),e.stopPropagation();var t=s.default.getDraggedElement();if(!t)return!1;var r=n.props,o=r.onBeforeTrash,a=r.onAfterTrash,i=t.removeElement,l=o(t);return n._manageInsideClass(e,"remove"),l&&s.default.getAttemptToRemove()&&(i(t.elementID,function(){a()},!0),s.default.setDraggedElement(null)),s.default.setAttemptToRemove(!1),!0},n._onDragOver=function(e){e.preventDefault()},n._onDragLeave=function(e){n._manageInsideClass(e,"remove")},n._onDragEnter=function(e){s.default.getDraggedElement()&&n._manageInsideClass(e,"add")},n.trashRef=a.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return a.default.createElement("div",{ref:this.trashRef,className:"trash-box",onDragLeave:this._onDragLeave,onDragEnter:this._onDragEnter,onDragOver:this._onDragOver,onDrop:this._onDrop},this.props.children||a.default.createElement("span",null,"Trash Box"))}}]),t}();u.propTypes={onBeforeTrash:i.default.func,onAfterTrash:i.default.func,children:i.default.oneOfType([i.default.arrayOf(i.default.element),i.default.element])},u.defaultProps={onBeforeTrash:function(){return!0},onAfterTrash:function(){return!0}},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=u(a),s=u(n(2)),l=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r._renderList=function(e){var t=l.default.getRegisteredPaletteElements().find(function(t){return t.type===e.type});return t?i.default.createElement(t.component,e):null},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props.paletteElements;return i.default.createElement("div",{className:"palette"},t.map(function(t){return e._renderList(r({},t,{key:t.id,showBasicContent:!0}))}))}}]),t}();c.propTypes={paletteElements:s.default.arrayOf(function(e){var t=!1;return e.forEach(function(n){n&&!n.id&&(t="`id` is required in all palette element"),e.filter(function(e){return e.id===n.id}).length>1&&(t="`id` of palette element should be unique")}),!t||new Error(t)})},c.defaultProps={paletteElements:[]},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=u(a),s=u(n(2)),l=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._dragEnd=function(e){e.stopPropagation(),n.dragElemRef.current.classList.remove("before","after"),l.default.setDraggedElement(null)},n._dragStart=function(e){e.stopPropagation();var t=n.props,r=t.id,o=t.type,a=t.name,i=t.fields,s=t.payload,u=t.dropzoneID,f=t.removeElement,c=t.checkAndRemoveElement,d={id:r,type:o,name:a,payload:s};i&&(d.fields=i),e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("data",JSON.stringify(d)),u&&l.default.setDraggedElement({elementID:r,dropzoneID:u,removeElement:f,checkAndRemoveElement:c})},n._onDragOver=function(e){var t=n.dragElemRef.current.getBoundingClientRect();if(!n.props.spaceAvailable)return!1;if(n.props.allowHorizontal){var r=e.clientX;if(r>=t.x&&r<=t.x+t.width)r<t.x+t.width/2?(n.dragElemRef.current.classList.remove("after"),n.dragElemRef.current.classList.add("before"),l.default.setDropPostion(n.props.index)):(n.dragElemRef.current.classList.remove("before"),n.dragElemRef.current.classList.add("after"),l.default.setDropPostion(n.props.index+1))}else{var o=e.clientY;if(o>=t.y&&o<=t.y+t.height)o<t.y+t.height/2?(n.dragElemRef.current.classList.remove("after"),n.dragElemRef.current.classList.add("before"),l.default.setDropPostion(n.props.index)):(n.dragElemRef.current.classList.remove("before"),n.dragElemRef.current.classList.add("after"),l.default.setDropPostion(n.props.index+1))}return!0},n._onDragLeave=function(){n.dragElemRef.current.classList.remove("before","after")},n.dragElemRef=i.default.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){this.props.initDone!==e.initDone&&e.initDone&&this.props.updateState()}},{key:"render",value:function(){var e=this.props,t=e.elementProps,n=e.draggable,o=e.allowHorizontal,a=null;return this.props.dropzoneID&&(a={onDragOver:this._onDragOver,onDragLeave:this._onDragLeave}),n&&(a=r({},a,{draggable:!0})),i.default.createElement("div",r({ref:this.dragElemRef,className:"drag-item "+(o?"inline":""),onDragStart:this._dragStart,onDragEnd:this._dragEnd},t,a),this.props.children)}}]),t}();f.propTypes={id:s.default.string.isRequired,name:s.default.string,initDone:s.default.bool,index:s.default.number,allowHorizontal:s.default.bool,fields:s.default.instanceOf(Array),draggable:s.default.bool,spaceAvailable:s.default.bool,updateState:s.default.func,dropzoneID:s.default.string,payload:s.default.instanceOf(Object),elementProps:s.default.instanceOf(Object),type:s.default.string.isRequired,children:s.default.oneOfType([s.default.arrayOf(s.default.element),s.default.element]).isRequired,removeElement:s.default.func,checkAndRemoveElement:s.default.func},f.defaultProps={checkAndRemoveElement:function(){return!0},elementProps:null,payload:null,draggable:!0,updateState:function(){return!0}},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),o=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var i=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.notifyStateChange=function(){t.event.change.forEach(function(e){return e(o.default.getState())})},this.notifyStateFlush=function(e){e&&t.notifyStateChange(),t.event.flush.forEach(function(e){return e(!0)})},this.notifyElementUpdate=function(e){t.event.updateElement.forEach(function(t){return t(e)})},this.notifyElementRemove=function(e){t.event.removeElement.forEach(function(t){return t(e)})},this.addEventListener=function(e,n){var o=null;return"function"!=typeof n?(r.default.error("`cb` param has to be function"),!1):(Object.prototype.hasOwnProperty.call(t.event,e)?(t.event[e].push(n),o=n):r.default.error("No such event"),o)},this.removeEventListener=function(e,n){Object.prototype.hasOwnProperty.call(t.event,e)?t.event[e]=t.event[e].filter(function(e){return e!==n}):r.default.error("No such event")},this.event={change:[],flush:[],removeElement:[],updateElement:[]}};t.default=i},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,a,i,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,o,a,i,s,l],c=0;(u=new Error(t.replace(/%s/g,function(){return f[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(17),o=n(16),a=n(15);e.exports=function(){function e(e,t,n,r,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n(1)),a=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement("div",{className:"main-canvas"},o.default.createElement(a.default,r({},e,{parentID:"root",id:"root",initDone:!0})))}},function(e,t,n){"use strict";var r=c(n(19)),o=c(n(4)),a=c(n(13)),i=c(n(12)),s=c(n(11)),l=c(n(10)),u=c(n(3)),f=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}n(9),e.exports={Canvas:r.default,Dropzone:o.default,Draggable:a.default,Palette:i.default,Trash:s.default,Preview:l.default,state:u.default,core:f.default,registerPaletteElements:f.default.registerPaletteElements}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvY29yZS5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdFwiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL3N0YXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Ryb3B6b25lL0Ryb3B6b25lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZS5jc3M/NzUyOCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QcmV2aWV3L1ByZXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVHJhc2gvVHJhc2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUGFsZXR0ZS9QYWxldHRlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0RyYWdnYWJsZS9EcmFnZ2FibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvZXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pbnZhcmlhbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2VtcHR5RnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0NhbnZhcy9DYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjb3JlIiwiQ29yZSIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJnZXRBdHRlbXB0VG9SZW1vdmUiLCJhdHRlbXB0VG9SZW1vdmUiLCJzZXRBdHRlbXB0VG9SZW1vdmUiLCJzdGF0dXMiLCJzZXREcmFnZ2VkRWxlbWVudCIsImRyYWdnZWRFbGVtZW50IiwiZ2V0RHJhZ2dlZEVsZW1lbnQiLCJyZWdpc3RlclBhbGV0dGVFbGVtZW50cyIsInJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMiLCJnZXRSZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzIiwic2V0RHJvcFBvc3Rpb24iLCJkcm9wUG9zaXRpb24iLCJnZXREcm9wUG9zdGlvbiIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJlcXVpcmUiLCJfZXZlbnQiLCJzdGF0ZSIsIlN0YXRlIiwic2hhcmVhYmxlRWxlbWVudFByb3BzIiwidHJlZSIsImlkIiwiZmllbGRzIiwidHJhdmVyc2VBbmRSZXR1cm5QYXJlbnQiLCJkcm9wem9uZUlEIiwicGFyZW50SUQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJmb3VuZFBhcmVudCIsImZpbmQiLCJlbGVtZW50IiwidHJhdmVyc2VBbmRSZXR1cm5FbGVtZW50IiwiZWxlbWVudElEIiwiZmllbGRQYXJlbnQiLCJmaWVsZCIsInJlbW92ZVNlbnNpdGl2ZVByb3BzIiwib25seVJlbW92ZUZ1bmN0aW9ucyIsInNoYXJlYWJsZUVsZW1lbnQiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsImluZGV4T2YiLCJnZXRFbGVtZW50IiwidXBkYXRlU3RhdGUiLCJjYiIsImRpc3BhdGNoRWxlbWVudFJlbW92ZSIsInRyYXZlcnNlQW5kVXBkYXRlVHJlZSIsInVwZGF0ZWRGaWVsZHMiLCJtYXRjaGVkUGFyZW50Q2FudmFzIiwicmV0dXJuU3RhdHVzIiwiZmllbGRzVG9CZUFkZGVkIiwiZmlsdGVyIiwiZiIsImNvbmNhdCIsInVGaWVsZCIsImZpbmRJbmRleCIsInB1c2giLCJtYXAiLCJ1ZiIsImNoaWxkRmllbGRzIiwiX2V2ZW50MiIsImRlZmF1bHQiLCJub3RpZnlTdGF0ZUNoYW5nZSIsIm5vdGlmeUVsZW1lbnRSZW1vdmUiLCJ0cmFzaGVkIiwiZ2V0RWxlbWVudFBhcmVudCIsInJlbW92ZUVsZW1lbnQiLCJ1cGRhdGVFbGVtZW50IiwibmV3RGF0YSIsIl9leHRlbmRzIiwibm90aWZ5RWxlbWVudFVwZGF0ZSIsImdldFN0YXRlIiwiZ2V0U3RvcmFibGVTdGF0ZSIsInRyYXZlcnNlQW5kVGFrZVNuYXBzaG90Iiwic3ViRmllbGRzIiwibmVjZXNzYXJ5RGV0YWlscyIsImluaXRpYWxFbGVtZW50cyIsInNmIiwiY2xlYXJTdGF0ZSIsInJvb3ROb2RlIiwidG9wTGV2ZWxGaWVsZHMiLCJub3RpZnlTdGF0ZUZsdXNoIiwidG9wTGV2ZWxFbGVtZW50IiwiZmx1c2hEcm9wcGVkRWxlbWVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9yZWFjdCIsIkRyb3B6b25lIiwicHJvcHMiLCJfdGhpcyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX19wcm90b19fIiwiZ2V0UHJvdG90eXBlT2YiLCJfaW5pdGlhbGlzZVByb3BzIiwiY2FudmFzUmVmIiwiX3JlYWN0MiIsImNyZWF0ZVJlZiIsImRyb3BwZWRFbGVtZW50cyIsImluaXREb25lIiwiX3NldEluaXRpYWxFbGVtZW50cyIsIl9yZWYiLCJfdGhpczIiLCJfcHJvcHMiLCJjYXBhY2l0eSIsInBsYWNlaG9sZGVyIiwic3BhY2VBdmFpbGFibGUiLCJjcmVhdGVFbGVtZW50IiwicmVmIiwiY2xhc3NOYW1lIiwib25EcmFnT3ZlciIsIl9vbkRyYWdPdmVyIiwib25EcmFnTGVhdmUiLCJfb25EcmFnTGVhdmUiLCJvbkRyYWdFbnRlciIsIl9vbkRyYWdFbnRlciIsIm9uRHJvcCIsIl9vbkRyb3AiLCJvbkRyYWdFbmQiLCJfb25EcmFnRW5kIiwiZSIsIl9yZW5kZXJEcmFnSXRlbSIsImluZGV4IiwiZHJvcHpvbmVQcm9wcyIsImRhbmdlcm91c2x5U2V0RWxlbWVudHMiLCJkYXRhIiwiZG9uZSIsImVsZW1lbnRzIiwiX3RoaXMzIiwiX3Byb3BzMiIsInNob3dCYXNpY0NvbnRlbnQiLCJfdXBkYXRlU3RhdGUiLCJfcmVtb3ZlRWxlbWVudCIsIl91cGRhdGVFbGVtZW50IiwiX2ZsdXNoRHJvcHBlZEVsZW1lbnRzIiwiY2hlY2tBbmRSZW1vdmVFbGVtZW50IiwiX2NoZWNrQW5kUmVtb3ZlRWxlbWVudCIsInNldFN0YXRlIiwiX3VubWFya0RyYWdFbGVtZW50cyIsImN1cnJlbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiQXJyYXkiLCJpc0FycmF5IiwiX3Byb3BzMyIsInVwZGF0ZWRJbml0aWFsSXRlbXMiLCJfbWFuYWdlSW5zaWRlQ2xhc3MiLCJfcmVmMiIsImFjdGlvbiIsInRhcmdldCIsInN1cHBvcnRlZEtleXMiLCJuZXdFbGVtZW50RGF0YSIsIl9wcm9wczQiLCJfc3RhdGUyIiwiZWxlbWVudE1vdmVkIiwiX2NvcmUyIiwib25FbGVtZW50TW92ZSIsImF0dGVtcHRUb01vdmUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIkpTT04iLCJwYXJzZSIsImRhdGFUcmFuc2ZlciIsImdldERhdGEiLCJfYWRkRWxlbWVudCIsImRyb3BJbmRleCIsImN1cnJlbnRFbGVtZW50cyIsInVwZGF0ZWREYXRhIiwiX3Byb3BzNSIsImFsbG93SG9yaXpvbnRhbCIsImludmFsaWRVcGRhdGVkRGF0YSIsImluZGV4T2ZQcmVzZW50RWxlbWVudCIsImtleUFscmVhZHlQcmVzZW50IiwiaXNTYW1lSW5kZXgiLCJuZXdFbGVtZW50cyIsImVsZW1lbnRBbHJlYWR5UmVtb3ZlZCIsImVsZW1lbnRUb0Ryb3AiLCJzbGljZSIsIl90b0NvbnN1bWFibGVBcnJheSIsImFkZCIsInNldFRpbWVvdXQiLCJ0eXBlIiwiY29tcG9uZW50IiwicHJvcFR5cGVzIiwiX3Byb3BUeXBlczIiLCJzdHJpbmciLCJpc1JlcXVpcmVkIiwibnVtYmVyIiwiZnVuYyIsImJvb2wiLCJhcnJheU9mIiwib25lT2ZUeXBlIiwibm9kZSIsImRlZmF1bHRQcm9wcyIsImNzcyIsImxvY2F0aW9uIiwid2luZG93IiwiRXJyb3IiLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0Iiwic3RyaW5naWZ5IiwiZm4iLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiYXBwbHkiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsIm9wdGlvbnMiLCJpdGVtIiwiZG9tU3R5bGUiLCJyZWZzIiwiaiIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJsaXN0IiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJtZWRpYSIsInNvdXJjZU1hcCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiaW5zZXJ0SW50byIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsInNwbGljZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImF0dHJzIiwiYWRkQXR0cnMiLCJlbCIsInNldEF0dHJpYnV0ZSIsIm9iaiIsInVwZGF0ZSIsInJlc3VsdCIsInRyYW5zZm9ybSIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiYmluZCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJidG9hIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJCb29sZWFuIiwiam9pbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwidXNlU291cmNlTWFwIiwidG9TdHJpbmciLCJjb250ZW50IiwiY3NzTWFwcGluZyIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJobXIiLCJsb2NhbHMiLCJQcmV2aWV3IiwiX29uU3RhdGVDaGFuZ2UiLCJuZXdTdGF0ZSIsImN1cnJlbnRTdGF0ZSIsIl9yZW5kZXJFbGVtZW50SW5QcmV2aWV3TW9kZSIsImNoaWxkcmVuIiwiZWxlbWVudERhdGEiLCJjaGlsZE5vZGUiLCJzaG93UHJldmlldyIsIkNvbXBvbmVudCIsInJvb3QiLCJUcmFzaCIsInRyYXNoUmVmIiwiZWxlbWVudFRvQmVUcmFzaGVkIiwiX3RoaXMkcHJvcHMiLCJvbkJlZm9yZVRyYXNoIiwib25BZnRlclRyYXNoIiwiUGFsZXR0ZSIsIl9yZW5kZXJMaXN0IiwicGFsZXR0ZUVsZW1lbnRzIiwicHJvcFZhbHVlIiwiaXNFcnJvciIsIkRyYWdnYWJsZSIsIl9kcmFnRW5kIiwiZHJhZ0VsZW1SZWYiLCJfZHJhZ1N0YXJ0IiwicGF5bG9hZCIsImVmZmVjdEFsbG93ZWQiLCJzZXREYXRhIiwiZWxlbUNvcmQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJkcmFnRWxlbVgiLCJjbGllbnRYIiwieCIsIndpZHRoIiwiZHJhZ0VsZW1ZIiwiY2xpZW50WSIsInkiLCJoZWlnaHQiLCJuZXh0UHJvcHMiLCJlbGVtZW50UHJvcHMiLCJkcmFnZ2FibGUiLCJvbkRyYWdTdGFydCIsImluc3RhbmNlT2YiLCJycG1FdmVudCIsIlJwbUV2ZW50IiwiZXZlbnQiLCJjaGFuZ2UiLCJ0cmlnZ2VyQ2hhbmdlIiwiZmx1c2giLCJldmVudE5hbWUiLCJyZXR1cm5DQiIsInZhbGlkYXRlRm9ybWF0IiwiZm9ybWF0IiwiY29uZGl0aW9uIiwiYSIsImIiLCJhcmdzIiwiYXJnSW5kZXgiLCJmcmFtZXNUb1BvcCIsIm1ha2VFbXB0eUZ1bmN0aW9uIiwiYXJnIiwiZW1wdHlGdW5jdGlvbiIsInRoYXRSZXR1cm5zIiwidGhhdFJldHVybnNGYWxzZSIsInRoYXRSZXR1cm5zVHJ1ZSIsInRoYXRSZXR1cm5zTnVsbCIsInRoYXRSZXR1cm5zVGhpcyIsInRoYXRSZXR1cm5zQXJndW1lbnQiLCJpbnZhcmlhbnQiLCJSZWFjdFByb3BUeXBlc1NlY3JldCIsInNoaW0iLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJwcm9wRnVsbE5hbWUiLCJzZWNyZXQiLCJnZXRTaGltIiwiUmVhY3RQcm9wVHlwZXMiLCJhcnJheSIsInN5bWJvbCIsImFueSIsIm9iamVjdE9mIiwib25lT2YiLCJzaGFwZSIsImV4YWN0IiwiY2hlY2tQcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJfRHJvcHpvbmUyIiwiQ2FudmFzIl0sIm1hcHBpbmdzIjoiMkJBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQTJDQSxPQXRDQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWpCLEdBQ0FZLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURrQixPQUFBLEtBSWpEcEIsRUFBQXFCLEVBQUEsU0FBQWxCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQW1CLFdBQ0EsV0FBMkIsT0FBQW5CLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFVLEVBQUFDLEdBQXNELE9BQUFW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eERBM2EsRUFBQSxRQUVBQSxFQUFBLGlFQUtlLFNBQUEySCxHQUFBLE9BQ2JPLEVBQUFsQyxRQUFBNkMsY0FBQSxPQUFLRSxVQUFVLGVBQ2JiLEVBQUFsQyxRQUFBNkMsY0FBQXdTLEVBQUFyVixRQUFBUSxLQUFjbUIsR0FBT2hFLFNBQVMsT0FBT0osR0FBRyxPQUFPOEUsVUFBQSxxQ0NSbkQsUUFBQXJJLEVBQUEsU0FDQUEsRUFBQSxRQUNBQSxFQUFBLFNBQ0FBLEVBQUEsU0FDQUEsRUFBQSxTQUNBQSxFQUFBLFNBR0FBLEVBQUEsUUFDQUEsRUFBQSx1REFHQUEsRUFBQSxHQUVBRyxFQUFPRCxTQUVMb2IsaUJBQ0E1VCxtQkFDQTBQLG9CQUNBTCxrQkFDQU4sZ0JBQ0FYLGtCQUdBM1MsZ0JBQ0F0QixlQUdBVyx3QkFBeUJzSixFQUFBOUYsUUFBS3hEIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyMCk7XG4iLCJjbGFzcyBDb3JlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gbWFpbiBvYmplY3Qvc3RvcmVcbiAgICBjb25zdCBjb3JlID0ge307XG5cbiAgICAvLyBhbGwgcHVibGljIGdldHRlci9zZXR0ZXIgZ29lcyBoZXJlXG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB0byBnZXQgYXR0ZW1wdFRvUmVtb3ZlXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IGF0dGVtcHRUb1JlbW92ZVxuICAgICAqL1xuICAgIHRoaXMuZ2V0QXR0ZW1wdFRvUmVtb3ZlID0gKCkgPT4gKGNvcmUuYXR0ZW1wdFRvUmVtb3ZlKTtcblxuICAgIC8qKlxuICAgICAqIGZ1bmN0aW9uIHRvIHNldCB1c2VyJ3MgYXR0ZW1wdCB0byByZW1vdmUgdGhlIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHN0YXR1c1xuICAgICAqL1xuICAgIHRoaXMuc2V0QXR0ZW1wdFRvUmVtb3ZlID0gKHN0YXR1cykgPT4ge1xuICAgICAgY29yZS5hdHRlbXB0VG9SZW1vdmUgPSBzdGF0dXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGZ1bmN0aW9uIHRvIHNldCBkcmFnZ2VkIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZHJhZ2dlZEVsZW1lbnRcbiAgICAgKi9cbiAgICB0aGlzLnNldERyYWdnZWRFbGVtZW50ID0gKGRyYWdnZWRFbGVtZW50KSA9PiB7XG4gICAgICBjb3JlLmRyYWdnZWRFbGVtZW50ID0gZHJhZ2dlZEVsZW1lbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGZ1bmN0aW9uIHRvIHJldHVybiBkcmFnZ2VkIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuZ2V0RHJhZ2dlZEVsZW1lbnQgPSAoKSA9PiAoY29yZS5kcmFnZ2VkRWxlbWVudCk7XG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB0byByZWdpc3RlciBwYWxldHRlIGVsZW1lbnRzXG4gICAgICogQHBhcmFtIHtBcnJheX0gcmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cyAtIHBhbGV0dGUgZWxlbWVudHNcbiAgICAgKi9cbiAgICB0aGlzLnJlZ2lzdGVyUGFsZXR0ZUVsZW1lbnRzID0gKHJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMpID0+IHtcbiAgICAgIGNvcmUucmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cyA9IHJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGZ1bmN0aW9uIHRvIHJldHVybiByZWdpc3RlcmVkIHBhbGV0dGUgZWxlbWVudHNcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IC0gYXJyYXkgb2YgcGFsZXR0ZSBlbGVtZW50c1xuICAgICAqL1xuICAgIHRoaXMuZ2V0UmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cyA9ICgpID0+IChjb3JlLnJlZ2lzdGVyZWRQYWxldHRlRWxlbWVudHMgfHwgW10pO1xuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gdG8gc2V0IGRyb3AgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZHJvcFBvc2l0aW9uXG4gICAgICovXG4gICAgdGhpcy5zZXREcm9wUG9zdGlvbiA9IChkcm9wUG9zaXRpb24pID0+IHtcbiAgICAgIGNvcmUuZHJvcFBvc2l0aW9uID0gZHJvcFBvc2l0aW9uO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB0byByZXR1cm4gZHJvcCBwb3NpdGlvblxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5nZXREcm9wUG9zdGlvbiA9ICgpID0+IChjb3JlLmRyb3BQb3NpdGlvbik7XG5cbiAgICAvKiBlc2xpbnQgbm8tY29uc29sZTowICovXG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB0byBnaXZlIGFuIGVycm9yIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSAtIGFueSBtZXNzYWdlIHRvIGJlIHByaW50XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5lcnJvciA9IGNvbnNvbGUuZXJyb3I7XG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB0byBsb2cgYSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgLSBhbnkgbWVzc2FnZSB0byBiZSBwcmludFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubG9nID0gY29uc29sZS5sb2c7XG4gIH1cbn1cblxuY29uc3QgY29yZSA9IG5ldyBDb3JlKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGNvcmU7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIFN5bWJvbC5mb3IgJiZcbiAgICBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG4gICAgMHhlYWM3O1xuXG4gIHZhciBpc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgb2JqZWN0ICE9PSBudWxsICYmXG4gICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbiAgfTtcblxuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7XG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcycpKCk7XG59XG4iLCJpbXBvcnQgcnBtRXZlbnQgZnJvbSAnLi9ldmVudCc7XG5cbmNsYXNzIFN0YXRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gYWxsIHByaXZhdGUgdmFyaWJhbGUgZ29lcyBoZXJlXG4gICAgY29uc3Qgc3RhdGUgPSB7fTtcbiAgICBjb25zdCBzaGFyZWFibGVFbGVtZW50UHJvcHMgPSBbJ2lkJywgJ3R5cGUnLCAnbmFtZScsICdwYXlsb2FkJywgJ2Ryb3B6b25lSUQnLCAncGFyZW50SUQnXTtcblxuICAgIC8vIHNldCBiYXNlXG4gICAgc3RhdGUudHJlZSA9IFt7XG4gICAgICBpZDogJ3Jvb3QnLFxuICAgICAgZmllbGRzOiBbXVxuICAgIH1dO1xuXG4gICAgLyoqXG4gICAgICogcHJpdmF0ZSBmdW5jdGlvbiB0byB0cmF2ZXJzZSB0aHJvdWdoIGVhY2ggbm9kZSBhbmQgdXBkYXRlIHRoZSBjb3JyZXNwb25kaW5nIG5vZGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZHJvcHpvbmVJRFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXJlbnRJRFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHVwZGF0ZWRGaWVsZHMgLSBuZXcgZmllbGRzL2VsZW1lbnRzXG4gICAgICogQHBhcmFtIHtBcnJheX0gZmllbGRzIC0gZmllbGRzL2VsZW1lbnRzIG9mIGN1cnJlbnQgY2FudmFzXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgY29uc3QgdHJhdmVyc2VBbmRVcGRhdGVUcmVlID0gKGRyb3B6b25lSUQsIHBhcmVudElELCB1cGRhdGVkRmllbGRzLCBmaWVsZHMgPSBzdGF0ZS50cmVlKSA9PiB7XG4gICAgICBjb25zdCBtYXRjaGVkUGFyZW50Q2FudmFzID0gZmllbGRzLmZpbmQoZmllbGQgPT4gZmllbGQuaWQgPT09IHBhcmVudElEKTtcbiAgICAgIGxldCByZXR1cm5TdGF0dXMgPSBmYWxzZTtcblxuICAgICAgLy8gZm91bmQgZWxlbWVudFxuICAgICAgaWYgKG1hdGNoZWRQYXJlbnRDYW52YXMpIHtcbiAgICAgICAgaWYgKGRyb3B6b25lSUQgPT09IHBhcmVudElEKSB7XG4gICAgICAgICAgLy8gZmlyc3QgdGltZSwgY3JlYXRlIGZpZWxkc1xuICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gdXBkYXRlZEZpZWxkcztcbiAgICAgICAgfSBlbHNlIGlmICghbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMgfHwgIXVwZGF0ZWRGaWVsZHMubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdXNlciB0cmllZCB0byByZW1vdmUgZWxlbWVudHNcbiAgICAgICAgICBpZiAoZHJvcHpvbmVJRCAmJiBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcykge1xuICAgICAgICAgICAgbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMgPSBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkc1xuICAgICAgICAgICAgICAuZmlsdGVyKGYgPT4gZi5kcm9wem9uZUlEICE9PSBkcm9wem9uZUlEKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbWF0Y2hlZCBjYW52YXMgZG9lcyBub3QgaGFzIHN1Y2ggZmllbGQsIGNyZWF0ZSBvbmVcbiAgICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gdXBkYXRlZEZpZWxkcztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZmllbGRzVG9CZUFkZGVkID0gW107XG5cbiAgICAgICAgICAvLyBpZiB1c2VyIHdvcmtpbmcgb24gbXVsdGkgZHJvcHpvbmUgZmllbGRcbiAgICAgICAgICBjb25zdCBtYXRjaGVkRHJvcHpvbmVGaWVsZHMgPSBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkc1xuICAgICAgICAgICAgLmZpbHRlcihmID0+IGYuZHJvcHpvbmVJRCA9PT0gZHJvcHpvbmVJRCk7XG5cbiAgICAgICAgICBpZiAobWF0Y2hlZERyb3B6b25lRmllbGRzLmxlbmd0aCAhPT0gdXBkYXRlZEZpZWxkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIHNvbWUgb2YgdGhlIGZpZWxkIGdvdCBkZWxldGVkIGZyb20gZHJvcHpvbmVcbiAgICAgICAgICAgIC8vIHJlcGxhY2UgYWxsIGZpZWxkcyB3aXRoIG5ldyBmaWVsZHNcbiAgICAgICAgICAgIG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzID0gdXBkYXRlZEZpZWxkc1xuICAgICAgICAgICAgICAuY29uY2F0KG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmID0+IGYuZHJvcHpvbmVJRCAhPT0gZHJvcHpvbmVJRCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVkRmllbGRzLmZvckVhY2goKHVGaWVsZCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBmaWVsZEluZGV4ID0gbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHNcbiAgICAgICAgICAgICAgICAuZmluZEluZGV4KGYgPT4gZi5pZCA9PT0gdUZpZWxkLmlkKTtcblxuICAgICAgICAgICAgICAvLyB1c2VyIHRyeSB0byBhZGQgbmV3IGZpZWxkXG4gICAgICAgICAgICAgIGlmIChmaWVsZEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGZpZWxkc1RvQmVBZGRlZC5wdXNoKHVGaWVsZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBubyBuZXcgZmllbGRzXG4gICAgICAgICAgICBpZiAoIWZpZWxkc1RvQmVBZGRlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgbWF0Y2hlZFBhcmVudENhbnZhcy5maWVsZHMgPSB1cGRhdGVkRmllbGRzO1xuXG4gICAgICAgICAgICAgIC8vIGVpdGhlciB1c2VyIGhhcyB1cGRhdGVkIHRoZSBmaWVsZCBvciBjaGFuZ2VkIHRoZSBvcmRlclxuICAgICAgICAgICAgICBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyA9IG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzXG4gICAgICAgICAgICAgICAgLm1hcCgoZikgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdUYgPSB1cGRhdGVkRmllbGRzLmZpbmQodWYgPT4gdWYuaWQgPT09IGYuaWQpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHVGIHx8IGY7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gYWRkIG5ldyBmaWVsZCB0byBleGlzdGluZyBhcnJheVxuICAgICAgICAgIGlmIChmaWVsZHNUb0JlQWRkZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICBtYXRjaGVkUGFyZW50Q2FudmFzLmZpZWxkcyA9IG1hdGNoZWRQYXJlbnRDYW52YXMuZmllbGRzLmNvbmNhdChmaWVsZHNUb0JlQWRkZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVyblN0YXR1cyA9IHRydWU7XG5cbiAgICAgICAgLyogZXNsaW50IG5vLWVsc2UtcmV0dXJuOiAwICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGNoaWxkRmllbGRzID0gZmllbGRzW2ldLmZpZWxkcztcbiAgICAgICAgICBsZXQgc3RhdHVzID0gZmFsc2U7XG5cbiAgICAgICAgICAvLyBmaWVsZCBoYXMgc3ViLWZpZWxkcywgY2hlY2sgaW5zaWRlIHN1Yi1maWVsZHNcbiAgICAgICAgICBpZiAoY2hpbGRGaWVsZHMpIHtcbiAgICAgICAgICAgIHN0YXR1cyA9IHRyYXZlcnNlQW5kVXBkYXRlVHJlZShkcm9wem9uZUlELCBwYXJlbnRJRCwgdXBkYXRlZEZpZWxkcywgY2hpbGRGaWVsZHMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdGF0dXMpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV0dXJuU3RhdHVzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBwcml2YXRlIGZ1bmN0aW9uIHRvIHRyYXZlcnNlIHRocm91Z2ggZWFjaCBub2RlIGFuZCByZXR1cm4gdGhlIGZpZWxkIHBhcmVudFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkcm9wem9uZUlEXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHBhcmVudElEXG4gICAgICogQHBhcmFtIHtBcnJheX0gZmllbGRzIC0gZmllbGRzL2VsZW1lbnRzIG9mIGN1cnJlbnQgY2FudmFzXG4gICAgICogQHJldHVybnMge09iamVjdH0gLSBQYXJlbnQgZWxlbWVudFxuICAgICAqL1xuICAgIGNvbnN0IHRyYXZlcnNlQW5kUmV0dXJuUGFyZW50ID0gKGRyb3B6b25lSUQsIHBhcmVudElELCBmaWVsZHMgPSBzdGF0ZS50cmVlKSA9PiB7XG4gICAgICBjb25zdCBmb3VuZFBhcmVudCA9IGZpZWxkcy5maW5kKGVsZW1lbnQgPT4gZWxlbWVudC5pZCA9PT0gcGFyZW50SUQpO1xuXG4gICAgICBpZiAoIWZvdW5kUGFyZW50KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGZpZWxkc1tpXTtcbiAgICAgICAgICBpZiAoZWxlbWVudC5maWVsZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IHRyYXZlcnNlQW5kUmV0dXJuUGFyZW50KGRyb3B6b25lSUQsIHBhcmVudElELCBlbGVtZW50LmZpZWxkcyk7XG4gICAgICAgICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmb3VuZFBhcmVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcHJpdmF0ZSBmdW5jdGlvbiB0byB0cmF2ZXJzZSB0aHJvdWdoIGVhY2ggbm9kZSBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZWxlbWVudElEXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRyb3B6b25lSURcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGFyZW50SURcbiAgICAgKiBAcmV0dXJucyB7RmllbGQvT2JqZWN0fVxuICAgICAqL1xuICAgIGNvbnN0IHRyYXZlcnNlQW5kUmV0dXJuRWxlbWVudCA9IChlbGVtZW50SUQsIGRyb3B6b25lSUQsIHBhcmVudElEKSA9PiB7XG4gICAgICBjb25zdCBmaWVsZFBhcmVudCA9IHRyYXZlcnNlQW5kUmV0dXJuUGFyZW50KGRyb3B6b25lSUQsIHBhcmVudElEKTtcbiAgICAgIGlmIChmaWVsZFBhcmVudCkge1xuICAgICAgICByZXR1cm4gZmllbGRQYXJlbnQuZmllbGRzLmZpbmQoZmllbGQgPT4gZmllbGQuaWQgPT09IGVsZW1lbnRJRCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBwcml2YXRlIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGUgZmllbGRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZWxlbWVudElEXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRyb3B6b25lSURcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGFyZW50SURcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGNvbnN0IHJlbW92ZUVsZW1lbnQgPSAoZWxlbWVudElELCBkcm9wem9uZUlELCBwYXJlbnRJRCwgY2IpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB0cmF2ZXJzZUFuZFJldHVybkVsZW1lbnQoZWxlbWVudElELCBkcm9wem9uZUlELCBwYXJlbnRJRCk7XG5cbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRWxlbWVudChlbGVtZW50SUQsIGNiKTtcbiAgICAgICAgcnBtRXZlbnQubm90aWZ5RWxlbWVudFJlbW92ZSh7XG4gICAgICAgICAgZWxlbWVudElELCBkcm9wem9uZUlELCBwYXJlbnRJRCwgdHJhc2hlZDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGZ1bmN0aW9uIHRvIGZpbHRlciBvdXQgc2Vuc2l0aXZlIGluZm9ybWF0aW9uIGZyb20gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBvbmx5UmVtb3ZlRnVuY3Rpb25zIC0gaW4tY2FzZSBvZiBgZ2V0U3RvcmFibGVTdGF0ZWAgcmVzdWx0IHdlIG9ubHlcbiAgICAgKiBuZWVkIHRvIGZpbHRlciBvdXQgZnVuY3Rpb25zIGFuZCBpbiBvdGhlciBjYXNlcyB3ZSB3aWxsIGZpbHRlciBvdXQgb3RoZXIgcHJvcHMgYWxzb1xuICAgICAqIGJhc2VkIG9uIGBzaGFyZWFibGVFbGVtZW50UHJvcHNgXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgY29uc3QgcmVtb3ZlU2Vuc2l0aXZlUHJvcHMgPSAoZWxlbWVudCwgb25seVJlbW92ZUZ1bmN0aW9ucykgPT4ge1xuICAgICAgY29uc3Qgc2hhcmVhYmxlRWxlbWVudCA9IHt9O1xuXG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlbW92ZSBhbGwgcHJpdmF0ZS9mdW5jdGluYWwgcHJvcGVydGllc1xuICAgICAgT2JqZWN0LmtleXMoZWxlbWVudCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgZWxlbWVudFtrZXldICE9PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgKFxuICAgICAgICAgICAgb25seVJlbW92ZUZ1bmN0aW9ucyB8fFxuICAgICAgICAgICAgIW9ubHlSZW1vdmVGdW5jdGlvbnMgJiYgc2hhcmVhYmxlRWxlbWVudFByb3BzLmluZGV4T2Yoa2V5KSAhPT0gLTFcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHNoYXJlYWJsZUVsZW1lbnRba2V5XSA9IGVsZW1lbnRba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzaGFyZWFibGVFbGVtZW50O1xuICAgIH07XG5cbiAgICAvLyBmdW5jdGlvbiB0byByZXR1cm4gZWxlbWVudCwgZmlsdGVyIHNlbnNpdGl2ZSBwcm9wcyBiZWZvcmUgcmV0dXJuXG4gICAgY29uc3QgZ2V0RWxlbWVudCA9ICguLi5hcmdzKSA9PiByZW1vdmVTZW5zaXRpdmVQcm9wcyh0cmF2ZXJzZUFuZFJldHVybkVsZW1lbnQoLi4uYXJncykpO1xuXG4gICAgLyoqXG4gICAgICogcHJpdmF0ZSBmdW5jdGlvbiB0byB1cGRhdGUgdGhlIGV4aXNpdGluZyBmaWVsZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlbGVtZW50SURcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZHJvcHpvbmVJRFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXJlbnRJRFxuICAgICAqIEBwYXJhbSB7RWxlbWVudC9PYmplY3R9IG5ld0RhdGEgLSB7IGlkLCB0eXBlLCBuYW1lLCBwYXlsb2FkIH1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGNvbnN0IHVwZGF0ZUVsZW1lbnQgPSAoZWxlbWVudElELCBkcm9wem9uZUlELCBwYXJlbnRJRCwgbmV3RGF0YSwgY2IpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB0cmF2ZXJzZUFuZFJldHVybkVsZW1lbnQoZWxlbWVudElELCBkcm9wem9uZUlELCBwYXJlbnRJRCk7XG5cbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQudXBkYXRlRWxlbWVudCh7XG4gICAgICAgICAgLi4ubmV3RGF0YSxcbiAgICAgICAgICBpZDogZWxlbWVudElEXG4gICAgICAgIH0sIGNiKTtcblxuICAgICAgICBycG1FdmVudC5ub3RpZnlFbGVtZW50VXBkYXRlKGdldEVsZW1lbnQoZWxlbWVudElELCBkcm9wem9uZUlELCBwYXJlbnRJRCkpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8vIGZ1bmN0aW9uIHRvIHRyYXZlcnNlIHRocm91Z2ggYWxsIG5vZGVcbiAgICAvLyByZW1vdmUgYWxsIHByaXZhdGUvZnVuY3Rpb25hbCBwcm9wZXJ0aWVzXG4gICAgLy8gYW5kIHJldHVybiBmbGF0IG9iamVjdCBmb3IgZWFjaCBub2RlXG4gICAgY29uc3QgdHJhdmVyc2VBbmRUYWtlU25hcHNob3QgPSAoZWxlbWVudCkgPT4ge1xuICAgICAgY29uc3Qgc3ViRmllbGRzID0gW107XG4gICAgICAvLyByZW1vdmUgYWxsIGZ1bmN0aW5hbCBwcm9wZXJ0aWVzXG4gICAgICBjb25zdCBuZWNlc3NhcnlEZXRhaWxzID0gcmVtb3ZlU2Vuc2l0aXZlUHJvcHMoZWxlbWVudCwgdHJ1ZSk7XG5cbiAgICAgIC8vIGNoZWNrIGZvciBzdWIgZmllbGRzIGFuZCBwZXJmb3JtIHNhbWUgb3BlcmF0aW9ucyByZWN1cnNpdmVseVxuICAgICAgaWYgKGVsZW1lbnQuZmllbGRzICYmIGVsZW1lbnQuZmllbGRzLmxlbmd0aCkge1xuICAgICAgICBlbGVtZW50LmZpZWxkcy5mb3JFYWNoKChmKSA9PiB7XG4gICAgICAgICAgc3ViRmllbGRzLnB1c2godHJhdmVyc2VBbmRUYWtlU25hcHNob3QoZikpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgYXBwZW5kIGluaXRpYWxFbGVtZW50cyBhbmQgdXBkYXRlZCBmaWVsZHNcbiAgICAgIGlmIChzdWJGaWVsZHMubGVuZ3RoKSB7XG4gICAgICAgIG5lY2Vzc2FyeURldGFpbHMuaW5pdGlhbEVsZW1lbnRzID0gW107XG4gICAgICAgIG5lY2Vzc2FyeURldGFpbHMuZmllbGRzID0gW107XG5cbiAgICAgICAgc3ViRmllbGRzLmZvckVhY2goKHNmKSA9PiB7XG4gICAgICAgICAgbmVjZXNzYXJ5RGV0YWlscy5pbml0aWFsRWxlbWVudHMucHVzaChzZik7XG4gICAgICAgICAgbmVjZXNzYXJ5RGV0YWlscy5maWVsZHMucHVzaChzZik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyByZXR1cm4gZmxhdCBvYmplY3Qgd2hpY2ggcmVwcmVzZW50IGN1cnJlbnQgbm9kZSBpbiB0cmVlXG4gICAgICByZXR1cm4gbmVjZXNzYXJ5RGV0YWlscztcbiAgICB9O1xuXG4gICAgLy8gZnVuY3Rpb24gdG8gdXBkYXRlIHRoZSBzdGF0ZVxuICAgIC8vIG9uY2UgdXBkYXRlIGlzIGRvbmUgdGhlbiB0cmlnZ2VycyBDQiBhbmQgbm90aWZ5U3RhdGVDaGFuZ2VcbiAgICB0aGlzLnVwZGF0ZVN0YXRlID0gKGRyb3B6b25lSUQsIHBhcmVudElELCBmaWVsZHMsIGNiID0gKCkgPT4ge30sIGRpc3BhdGNoRWxlbWVudFJlbW92ZSkgPT4ge1xuICAgICAgdHJhdmVyc2VBbmRVcGRhdGVUcmVlKGRyb3B6b25lSUQsIHBhcmVudElELCBmaWVsZHMpO1xuICAgICAgY2Ioc3RhdGUudHJlZSk7XG4gICAgICBycG1FdmVudC5ub3RpZnlTdGF0ZUNoYW5nZSgpO1xuXG4gICAgICAvLyBkaXNwYXRjaCBlbGVtZW50UmVtb3ZlIGV2ZW50IGlmIG5lY2Vzc2FyeVxuICAgICAgaWYgKGRpc3BhdGNoRWxlbWVudFJlbW92ZSkge1xuICAgICAgICBycG1FdmVudC5ub3RpZnlFbGVtZW50UmVtb3ZlKHtcbiAgICAgICAgICBkcm9wem9uZUlELFxuICAgICAgICAgIHBhcmVudElELFxuICAgICAgICAgIGRpc3BhdGNoRWxlbWVudFJlbW92ZSxcbiAgICAgICAgICAvLyBqdXN0IHRvIGRpc3Rpbmd1aXNoIHdoZXRoZXIgZmllbGQgcmVtb3ZlZCBmcm9tIGByZW1vdmVGaWVsZGAgQVBJIG9yIHRyYXNoIGNvbXBvbmVudFxuICAgICAgICAgIHRyYXNoZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIGZ1bmN0aW9uIHRvIHJldHVybiBlbGVtZW50IHBhcmVudFxuICAgIHRoaXMuZ2V0RWxlbWVudFBhcmVudCA9IHRyYXZlcnNlQW5kUmV0dXJuUGFyZW50O1xuXG4gICAgLy8gZnVuY3Rpb24gdG8gcmV0dXJuIGVsZW1lbnRcbiAgICB0aGlzLmdldEVsZW1lbnQgPSBnZXRFbGVtZW50O1xuXG4gICAgLy8gZnVuY3Rpb24gdG8gcmVtb3ZlIGVsZW1lbnRcbiAgICB0aGlzLnJlbW92ZUVsZW1lbnQgPSByZW1vdmVFbGVtZW50O1xuXG4gICAgLy8gZnVuY3Rpb24gdG8gdXBkYXRlIGVsZW1lbnRcbiAgICB0aGlzLnVwZGF0ZUVsZW1lbnQgPSB1cGRhdGVFbGVtZW50O1xuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gdG8gcmV0dXJuIGN1cnJlbnQgc3RhdGUgb2YgdHJlZSAoYXMgaXMpXG4gICAgICoga2VlcGluZyB0aGlzIGZ1bmN0aW9uIHRvIGdpdmUgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAtIHN0YXRlIHRyZWVcbiAgICAgKi9cbiAgICB0aGlzLmdldFN0YXRlID0gKCkgPT4gKHN0YXRlLnRyZWUpO1xuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gdG8gcmV0dXJuIHN0b3JhYmxlIGN1cnJlbnQgc3RhdGVcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIGRvZXMgc2FtZSBqb2IgYXMgZ2V0U3RhdGUgb25seSBpdCBtYWtlIHN1cmVcbiAgICAgKiByZXR1cm5lZCBkYXRhIGlzIGluIHByb3BlciBmb3JtYXQgYW5kIHVuZWNlc3NhcnkgcHJvcGVydGllcyByZW1vdmVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IC0gc3RhdGUgdHJlZVxuICAgICAqL1xuICAgIHRoaXMuZ2V0U3RvcmFibGVTdGF0ZSA9ICgpID0+IChzdGF0ZS50cmVlWzBdLmZpZWxkc1xuICAgICAgLm1hcChmID0+IHRyYXZlcnNlQW5kVGFrZVNuYXBzaG90KGYpKSk7XG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB0byBjbGVhciB0aGUgc3RhdGVcbiAgICAgKiBsb29wIHRob3VnaCBhbGwgcGFyZW50KGVuZCBsZXZlbCkgbm9kZXMsIGFuZCBjYWxsIGBmbHVzaERyb3BwZWRFbGVtZW50c2AgZnVuY3Rpb25cbiAgICAgKiBzbyB0aGF0IGNvbXBvbmVudCBhcyB3ZWxsIGFzIGFwcGxpY2F0aW9uIHN0YXRlIGdldHMgZmx1c2hlZFxuICAgICAqL1xuICAgIHRoaXMuY2xlYXJTdGF0ZSA9IChjYiA9ICgpID0+IHt9KSA9PiB7XG4gICAgICBjb25zdCByb290Tm9kZSA9IHN0YXRlLnRyZWVbMF07XG4gICAgICBjb25zdCB0b3BMZXZlbEZpZWxkcyA9IHJvb3ROb2RlLmZpZWxkcy5sZW5ndGg7XG5cbiAgICAgIC8vIGNhbnZhcyBpcyBlbXB0eSwganVzdCBub3RpZnkgb3RoZXJcbiAgICAgIGlmICghcm9vdE5vZGUuZmllbGRzLmxlbmd0aCkge1xuICAgICAgICBycG1FdmVudC5ub3RpZnlTdGF0ZUZsdXNoKCk7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG5cbiAgICAgIHJvb3ROb2RlLmZpZWxkcy5mb3JFYWNoKCh0b3BMZXZlbEVsZW1lbnQsIGkpID0+IHtcbiAgICAgICAgdG9wTGV2ZWxFbGVtZW50LmZsdXNoRHJvcHBlZEVsZW1lbnRzKCgpID0+IHtcbiAgICAgICAgICBpZiAoaSA9PT0gdG9wTGV2ZWxGaWVsZHMgLSAxKSB7XG4gICAgICAgICAgICBycG1FdmVudC5ub3RpZnlTdGF0ZUZsdXNoKHRydWUpO1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB0byBhZGQgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBjYWxsYmFja1xuICAgICAqL1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lciA9IHJwbUV2ZW50LmFkZEV2ZW50TGlzdGVuZXI7XG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB0byByZW1vdmUgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBjYWxsYmFja1xuICAgICAqL1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHJwbUV2ZW50LnJlbW92ZUV2ZW50TGlzdGVuZXI7XG4gIH1cbn1cblxuY29uc3Qgc3RhdGUgPSBuZXcgU3RhdGUoKTtcblxuZXhwb3J0IGRlZmF1bHQgc3RhdGU7XG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IHN0YXRlIGZyb20gJy4uLy4uL2NvcmUvc3RhdGUnO1xuaW1wb3J0IGNvcmUgZnJvbSAnLi4vLi4vY29yZS9jb3JlJztcblxuY2xhc3MgRHJvcHpvbmUgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIC8vIGNyZWF0ZSByZWZyZW5jZSBmb3IgY2FudmFzXG4gICAgLy8gdG8gY2hlY2sgd2hldGhlciBpcyBkcmFnZ2luZyBvbiBjdXJyZW50IGNhbnZhcyBvciBub3RcbiAgICB0aGlzLmNhbnZhc1JlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuXG4gICAgLy8gY29tcG9uZW50IHN0YXRlXG4gICAgLy8gaW5pdGlhbEVsZW1lbnRzIC0gdG8ga2VlcCB0cmFjayBvZiBpbml0aWFsIGVsZW1lbnRzXG4gICAgLy8gZHJvcHBlZEVsZW1lbnRzIC0gdG8ga2VlcCB0cmFjayBvZiBuZXdseSBhZGRlZCBlbGVtZW50c1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpbml0aWFsRWxlbWVudHM6IFtdLFxuICAgICAgZHJvcHBlZEVsZW1lbnRzOiBbXSxcbiAgICAgIGluaXREb25lOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5fc2V0SW5pdGlhbEVsZW1lbnRzKHRoaXMucHJvcHMuaW5pdGlhbEVsZW1lbnRzKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoeyBpbml0aWFsRWxlbWVudHMgfSkge1xuICAgIHRoaXMuX3NldEluaXRpYWxFbGVtZW50cyhpbml0aWFsRWxlbWVudHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIGFsbG93IG1hbnVhbCBlbGVtZW50IHVwZGF0ZVxuICAgKiBOb3RlIC0gZnVuY3Rpb24gaXMgb25seSBhY2Nlc3NpYmxlIHRocm91Z2ggcmVmIGFuZCBtYWtlIHN1cmVcbiAgICogdmFsaWQgZGF0YSBpcyBwYXNzIHRocm91Z2ggZWxzZSBhcHBsaWNhdGlvbiBzdGF0ZS9oaWVyYXJjaHkgY2FuIGJyZWFrXG4gICAqIEBwYXJhbSBkYXRhIHtBcnJheS9GdW5jdGlvbn0gLSBpZiBpdHMgZnVuY3Rpb24gdGhlbiBtYWtlIHN1cmUgeW91IGFyZVxuICAgKiByZXR1cm5pbmcgdmFsaWRhIGFycmF5XG4gICAqIEBwYXJhbSBkb25lIHtmdW5jdGlvbn0gLSBzdWNjZXNzIGNhbGwgYmFjayBmdW5jdGlvblxuICAgKi9cbiAgZGFuZ2Vyb3VzbHlTZXRFbGVtZW50cyA9IChkYXRhLCBkb25lKSA9PiB7XG4gICAgbGV0IGVsZW1lbnRzID0gW107XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBlbGVtZW50cyA9IGRhdGEodGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMpIHx8IFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50cyA9IGRhdGE7XG4gICAgfVxuICAgIGNvbnN0IHsgaWQ6IGRyb3B6b25lSUQsIHBhcmVudElEIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgZWxlbWVudHMgPSBlbGVtZW50cy5tYXAoZSA9PiAoe1xuICAgICAgLi4uZSxcbiAgICAgIGRyb3B6b25lSUQsXG4gICAgICBwYXJlbnRJRCxcbiAgICAgIHNob3dCYXNpY0NvbnRlbnQ6IGZhbHNlLFxuICAgICAgdXBkYXRlU3RhdGU6IHRoaXMuX3VwZGF0ZVN0YXRlLFxuICAgICAgcmVtb3ZlRWxlbWVudDogdGhpcy5fcmVtb3ZlRWxlbWVudCxcbiAgICAgIHVwZGF0ZUVsZW1lbnQ6IHRoaXMuX3VwZGF0ZUVsZW1lbnQsXG4gICAgICBmbHVzaERyb3BwZWRFbGVtZW50czogdGhpcy5fZmx1c2hEcm9wcGVkRWxlbWVudHMsXG4gICAgICBjaGVja0FuZFJlbW92ZUVsZW1lbnQ6IHRoaXMuX2NoZWNrQW5kUmVtb3ZlRWxlbWVudFxuICAgIH0pKTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaW5pdGlhbEVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgIGRyb3BwZWRFbGVtZW50czogZWxlbWVudHNcbiAgICB9LCAoKSA9PiB0aGlzLl91cGRhdGVTdGF0ZShkb25lKSk7XG4gIH1cblxuICAvKipcbiAgICogZnVuY3Rpb24gdG8gcmVtb3ZlIGJlZm9yZS9hZnRlciBjbGFzcyBmb3JtIGFsbCBjYW52YXMgZWxlbWVudHNcbiAgICovXG4gIF91bm1hcmtEcmFnRWxlbWVudHMgPSAoKSA9PiB7XG4gICAgW10uZm9yRWFjaC5jYWxsKHRoaXMuY2FudmFzUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyYWctaXRlbScpLCBlID0+IGUuY2xhc3NMaXN0LnJlbW92ZSgnYmVmb3JlJywgJ2FmdGVyJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIHNldCBpbml0aWFsIGVsZW1lbnRzXG4gICAqIEBwYXJhbSBpbml0aWFsRWxlbWVudHMge0FycmF5fSAtIEl0IGhvbGRzIGFsbCBpbml0aWFsIGVsZW1lbnRzIHRvIGJlIHNob3duIGluIGNhbnZhc1xuICAgKi9cbiAgX3NldEluaXRpYWxFbGVtZW50cyA9IChpbml0aWFsRWxlbWVudHMpID0+IHtcbiAgICAvLyBjdXJyZW50IGNvbXBvbmVudCBzdGF0ZShkcm9wcGVkRWxlbWVudHMpIGRvZXNuJ3QgaG9sZCBhbnkgZWxlbWVudHNcbiAgICAvLyBidXQgaW5pdGlhbEVsZW1lbnRzIGhhcyBzb21lIGVsZW1lbnQgdG8gYmUgc2V0XG4gICAgY29uc3QgZ290SW5pdGlhbEl0ZW1zID0gQXJyYXkuaXNBcnJheShpbml0aWFsRWxlbWVudHMpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEVsZW1lbnRzLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICF0aGlzLnN0YXRlLmluaXREb25lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuc3RhdGUuaW5pdGlhbEVsZW1lbnRzLmxlbmd0aDtcblxuICAgIC8vIGZvciBmaXJzdCB0aW1lIGFkZCBpbml0aWFsRWxlbWVudHMgdG8gZHJvcHBlZEVsZW1lbnRzXG4gICAgaWYgKGdvdEluaXRpYWxJdGVtcykge1xuICAgICAgY29uc3QgeyBpZDogZHJvcHpvbmVJRCwgcGFyZW50SUQgfSA9IHRoaXMucHJvcHM7XG4gICAgICBjb25zdCB1cGRhdGVkSW5pdGlhbEl0ZW1zID0gaW5pdGlhbEVsZW1lbnRzLm1hcChlID0+ICh7XG4gICAgICAgIC4uLmUsXG4gICAgICAgIGtleTogZS5pZCxcbiAgICAgICAgZHJvcHpvbmVJRCxcbiAgICAgICAgcGFyZW50SUQsXG4gICAgICAgIHNob3dCYXNpY0NvbnRlbnQ6IGZhbHNlLFxuICAgICAgICB1cGRhdGVTdGF0ZTogdGhpcy5fdXBkYXRlU3RhdGUsXG4gICAgICAgIHJlbW92ZUVsZW1lbnQ6IHRoaXMuX3JlbW92ZUVsZW1lbnQsXG4gICAgICAgIHVwZGF0ZUVsZW1lbnQ6IHRoaXMuX3VwZGF0ZUVsZW1lbnQsXG4gICAgICAgIGZsdXNoRHJvcHBlZEVsZW1lbnRzOiB0aGlzLl9mbHVzaERyb3BwZWRFbGVtZW50cyxcbiAgICAgICAgY2hlY2tBbmRSZW1vdmVFbGVtZW50OiB0aGlzLl9jaGVja0FuZFJlbW92ZUVsZW1lbnRcbiAgICAgIH0pKTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGluaXRpYWxFbGVtZW50czogdXBkYXRlZEluaXRpYWxJdGVtcyxcbiAgICAgICAgZHJvcHBlZEVsZW1lbnRzOiB1cGRhdGVkSW5pdGlhbEl0ZW1zXG4gICAgICB9LCAoKSA9PiAodGhpcy5fdXBkYXRlU3RhdGUoKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpbml0RG9uZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIHRvZ2dsZS9tYW5hZ2UgY2xhc3MoaW5zaWRlKVxuICAgKiBjbGFzcyBnZXRzIGFwcGVuZGVkIHRvIGNhbnZhc1xuICAgKiBAcGFyYW0gdGFyZ2V0IHtET019IC0gY3VycmVudCBjYW52YXMgdXBvbiB3aGljaCB1c2UgaXMgaG92ZXJpbmdcbiAgICogQHBhcmFtIGFjdGlvbiB7U3RyaW5nfSAtIGFkZC9yZW1vdmUgLSBuYW1lIG9mIGFjdGlvblxuICAgKi9cbiAgX21hbmFnZUluc2lkZUNsYXNzID0gKHsgdGFyZ2V0IH0sIGFjdGlvbikgPT4ge1xuICAgIGlmICh0aGlzLmNhbnZhc1JlZi5jdXJyZW50ID09PSB0YXJnZXQpIHtcbiAgICAgIHRhcmdldC5jbGFzc0xpc3RbYWN0aW9uXSgnaW5zaWRlJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIHJlbW92ZSBlbGVtZW50IGZyb20gZHJvcHBlZEVsZW1lbnRzXG4gICAqIEBwYXJhbSBlbGVtZW50SUQgLSB7U3RyaW5nfSAtIElEIG9mIGVsZW1lbnRcbiAgICogQHBhcmFtIGNiIC0ge2Z1bmN0aW9ufVxuICAgKiBAcGFyYW0gZGlzcGF0Y2hFbGVtZW50UmVtb3ZlIHtCb29sZWFufSAtIHRyaWdnZXIgYHJlbW92ZUVsZW1lbnRgIGV2ZW50IGlmIGl0cyB0cnVlXG4gICAqL1xuICBfcmVtb3ZlRWxlbWVudCA9IChlbGVtZW50SUQsIGNiID0gKCkgPT4ge30sIGRpc3BhdGNoRWxlbWVudFJlbW92ZSkgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMuZmluZEluZGV4KGUgPT4gZS5pZCA9PT0gZWxlbWVudElEKTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZHJvcHBlZEVsZW1lbnRzOiB0aGlzLnN0YXRlLmRyb3BwZWRFbGVtZW50cy5maWx0ZXIoKGQsIGkpID0+IChpICE9PSBpbmRleCkpXG4gICAgfSwgKCkgPT4gdGhpcy5fdXBkYXRlU3RhdGUoY2IsIGRpc3BhdGNoRWxlbWVudFJlbW92ZSA/IGVsZW1lbnRJRCA6IG51bGwpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBmdW5jdGlvbiB0byB1cGRhdGUgZWxlbWVudCBmcm9tIGRyb3BwZWRFbGVtZW50c1xuICAgKiBAcGFyYW0gbmV3RGF0YSAtIHtlbGVtZW50fSAtIHsgaWQsIG5hbWUsIHR5cGUsIHBheWxvYWQgfVxuICAgKiBAcGFyYW0gY2IgLSB7ZnVuY3Rpb259XG4gICAqL1xuICBfdXBkYXRlRWxlbWVudCA9IChuZXdEYXRhLCBjYiA9ICgpID0+IHt9KSA9PiB7XG4gICAgY29uc3QgZWxlbWVudEluZGV4ID0gdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMuZmluZEluZGV4KGUgPT4gZS5pZCA9PT0gbmV3RGF0YS5pZCk7XG5cbiAgICBpZiAoZWxlbWVudEluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuIGNiKG51bGwpO1xuICAgIH1cblxuICAgIC8vIHN1cHBvcnQgaXMgbGltaXRlZCB0byBiZWxvdyBrZXlzIG9ubHksIHRvIGF2b2lkIHBvc3NpYmxlIGJyZWFrc1xuICAgIGNvbnN0IHN1cHBvcnRlZEtleXMgPSBbJ25hbWUnLCAndHlwZScsICdwYXlsb2FkJ107XG4gICAgY29uc3QgbmV3RWxlbWVudERhdGEgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhuZXdEYXRhKVxuICAgICAgLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoc3VwcG9ydGVkS2V5cy5pbmRleE9mKGtleSkgIT09IC0xKSB7XG4gICAgICAgICAgbmV3RWxlbWVudERhdGFba2V5XSA9IG5ld0RhdGFba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRyb3BwZWRFbGVtZW50czogdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHNcbiAgICAgICAgLm1hcCgoZSkgPT4ge1xuICAgICAgICAgIGlmIChlLmlkID09PSBuZXdEYXRhLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5lLCAuLi5uZXdFbGVtZW50RGF0YSB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9KVxuICAgIH0sICgpID0+IHRoaXMuX3VwZGF0ZVN0YXRlKGNiKSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBmdW5jdGlvbiB0byB1cGRhdGUgdGhlIGFwcGxpY2F0aW9uIHN0YXRlIChub3QgY29tcG9uZW50IHN0YXRlKVxuICAgKiBmdW5jdGlvbiB3aWxsIGZ1cnRoZXIgY2FsbCBgdXBkYXRlU3RhdGVgIGZyb20gc3RhdGUgQVBJLCB3aGljaCB1cGRhdGVzIHRoZSBhcHBsaWNhdGlvbiBzdGF0ZVxuICAgKiBAcGFyYW0gY2Ige2Z1bmN0aW9ufSAtIGNhbGxiYWNrIGZ1bmN0aW9uIC0gb3B0aW9uYWxcbiAgICovXG4gIF91cGRhdGVTdGF0ZSA9IChjYiA9ICgpID0+IHt9LCBkaXNwYXRjaEVsZW1lbnRSZW1vdmUpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBpZDogZHJvcHpvbmVJRCxcbiAgICAgIHBhcmVudElEXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBzdGF0ZS51cGRhdGVTdGF0ZShcbiAgICAgIGRyb3B6b25lSUQsXG4gICAgICBwYXJlbnRJRCxcbiAgICAgIHRoaXMuc3RhdGUuZHJvcHBlZEVsZW1lbnRzLFxuICAgICAgY2IsXG4gICAgICBkaXNwYXRjaEVsZW1lbnRSZW1vdmVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIGZsdXNoIHRoZSBjb21wb25lbnQgc3RhdGVcbiAgICogb25jZSBjb21wb25lbnQgc3RhdGUgdGhzIGZsdXNoZWQsIHRoaXMgd2lsbCBjYWxsIGBfdXBkYXRlU3RhdGVgIHRvIHVwZGF0ZSB0aGVcbiAgICogYXBwbGljYXRpb24gc3RhdGVcbiAgICogQHBhcmFtIGNiIHtmdW5jdGlvbn0gLSBjYWxsYmFjayBmdW5jdGlvbiAtIG9wdGlvbmFsXG4gICAqL1xuICBfZmx1c2hEcm9wcGVkRWxlbWVudHMgPSAoY2IgPSAoKSA9PiB7fSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaW5pdGlhbEVsZW1lbnRzOiBbXSxcbiAgICAgIGRyb3BwZWRFbGVtZW50czogW11cbiAgICB9LCAoKSA9PiAodGhpcy5fdXBkYXRlU3RhdGUoY2IpKSk7XG4gIH1cblxuICAvKipcbiAgICogZnVuY3Rpb24gY2hlY2sgYmVsb3cgcGFyYW1ldGVyc1xuICAgKiAxIC0gdXNlcidzIGludGVuZCBpcyB0byBtb3ZlIGVsZW1lbnQgZnJvbSBvbmUgY2FudmFzIHRvIG90aGVyXG4gICAqIDIgLSBHZXQgY29uZmlybWF0aW9uIGJlZm9yZSByZW1vdmVcbiAgICogb25jZSBib3RoIGNvbmRpdGlvbiBtYXRjaGVkIHJlbW92ZSB0aGUgZWxlbWVudCBmcm9tIGN1cnJlbnQgY2FudmFzXG4gICAqL1xuICBfY2hlY2tBbmRSZW1vdmVFbGVtZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnRNb3ZlZCA9IGNvcmUuZ2V0RHJhZ2dlZEVsZW1lbnQoKTtcbiAgICBjb25zdCB7IHJlbW92ZUVsZW1lbnQsIGVsZW1lbnRJRCB9ID0gZWxlbWVudE1vdmVkO1xuICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMucHJvcHMub25FbGVtZW50TW92ZShlbGVtZW50TW92ZWQpO1xuICAgIGNvbnN0IGF0dGVtcHRUb01vdmUgPSAhY29yZS5nZXRBdHRlbXB0VG9SZW1vdmUoKTtcblxuICAgIGlmIChzdGF0dXMgJiYgYXR0ZW1wdFRvTW92ZSkge1xuICAgICAgcmVtb3ZlRWxlbWVudChlbGVtZW50SUQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciB0aGUgY2FudmFzXG4gIC8vIGBwcmV2ZW50RGVmYXVsdGAgLSBSZXF1aXJlZC4gQWxsb3dzIHVzIHRvIGRyb3AuXG4gIC8vIEBwYXJhbSBlIHtldmVudH1cbiAgX29uRHJhZ092ZXIgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIHVzZXIgaXMgbGVhdmluZyB0aGUgY2FudmFzXG4gICAqIEBwYXJhbSBlIHtldmVudH1cbiAgICovXG4gIF9vbkRyYWdMZWF2ZSA9IChlKSA9PiB7XG4gICAgdGhpcy5fbWFuYWdlSW5zaWRlQ2xhc3MoZSwgJ3JlbW92ZScpO1xuICAgIGNvcmUuc2V0QXR0ZW1wdFRvUmVtb3ZlKHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIHVzZXIgaXMgZHJhZ2dpbmcgb3ZlciBjYW52YXNcbiAgICogQHBhcmFtIGUge2V2ZW50fVxuICAgKi9cbiAgX29uRHJhZ0VudGVyID0gKGUpID0+IHtcbiAgICB0aGlzLl9tYW5hZ2VJbnNpZGVDbGFzcyhlLCAnYWRkJyk7XG4gICAgY29yZS5zZXRBdHRlbXB0VG9SZW1vdmUoZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIHVzZSBoYXMgZHJvcHBlZCB0aGUgZWxlbWVudCBpbnRvIHRoZSBjYW52YXNcbiAgICogcGVyZm9ybSBhbGwgcmVxdWlyZWQgY2hlY2tzXG4gICAqIGZ1bmN0aW9uIGFsc28gdHJpZ2dlcnMgYG9uRHJvcGAgcHJvcCBzbyB0aGF0IHVzZXQgY2FuIHByb3ZpZGUgYWRkaXRpb25hbCBpbmZvXG4gICAqIG9uY2UgYWxsIGRvbmUgYF9hZGRFbGVtZW50YCBnZXQgY2FsbGVkIHdpdGggYWxsIHJlcXVpcmVkIGluZm9cbiAgICogQHBhcmFtIGUge2V2ZW50fVxuICAgKi9cbiAgX29uRHJvcCA9IChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgeyBkcm9wcGVkRWxlbWVudHMgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBjb3JlLnNldEF0dGVtcHRUb1JlbW92ZShmYWxzZSk7XG4gICAgdGhpcy5fbWFuYWdlSW5zaWRlQ2xhc3MoZSwgJ3JlbW92ZScpO1xuXG4gICAgY29uc3QgeyBvbkRyb3AgfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ2RhdGEnKSk7XG4gICAgZGF0YSA9IHsgLi4uZGF0YSB9O1xuXG4gICAgdGhpcy5fdW5tYXJrRHJhZ0VsZW1lbnRzKCk7XG5cbiAgICByZXR1cm4gb25Ecm9wID8gb25Ecm9wKGRhdGEsIHRoaXMuX2FkZEVsZW1lbnQsIHtcbiAgICAgIGRyb3BJbmRleDogIWRyb3BwZWRFbGVtZW50cy5sZW5ndGggPyBjb3JlLmdldERyb3BQb3N0aW9uKCkgKyAxIDogMCxcbiAgICAgIGN1cnJlbnRFbGVtZW50czogZHJvcHBlZEVsZW1lbnRzXG4gICAgfSkgOiB0aGlzLl9hZGRFbGVtZW50KGRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIGFkZCBlbGVtZW50IGludG8gZHJvcHBlZEVsZW1lbnRzXG4gICAqIHByaW9yIHRvIGFkZCBpdCBwZXJmb20gYmVsb3cgY2hlY2tcbiAgICogMSAtIGVsZW1lbnQgaGFzIHVuaXF1ZSBrZXlcbiAgICogMiAtIGVsZW1lbnQgaGFzIGludmFsaWQgZGF0YVxuICAgKiAzIC0gY2hlY2sgYWdhaW5zdCBtYXgtY2FwYWNpdHlcbiAgICogb25jZSBlbGVtZW50IGFkZGVkIHJlbW92ZSB0aGUgZWxlbWVudCBmcm9tIHByZXZpb3VzIGNhbnZhc1xuICAgKiBAcGFyYW0gdXBkYXRlZERhdGEge09iamVjdH0gLSBlbGVtZW50IGluZm9ybWF0aW9uXG4gICAqIEByZXR1cm5zIE9iamVjdCAtIG5ldyBsaXN0IG9mIGNhbnZhcyBlbGVtZW50c1xuICAgKi9cbiAgX2FkZEVsZW1lbnQgPSAodXBkYXRlZERhdGEpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBpZDogZHJvcHpvbmVJRCxcbiAgICAgIGNhcGFjaXR5LFxuICAgICAgcGFyZW50SUQsXG4gICAgICBhbGxvd0hvcml6b250YWxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBkcm9wUG9zaXRpb24gPSBjb3JlLmdldERyb3BQb3N0aW9uKCk7XG4gICAgY29uc3QgZHJhZ2dlZEVsZW1lbnQgPSBjb3JlLmdldERyYWdnZWRFbGVtZW50KCk7XG4gICAgY29uc3QgaW52YWxpZFVwZGF0ZWREYXRhID0gIXVwZGF0ZWREYXRhIHx8ICF1cGRhdGVkRGF0YS5pZDtcbiAgICBsZXQgaW5kZXhPZlByZXNlbnRFbGVtZW50ID0gLTE7XG4gICAgY29uc3Qga2V5QWxyZWFkeVByZXNlbnQgPSB1cGRhdGVkRGF0YS5pZCAmJlxuICAgICAgdGhpcy5zdGF0ZS5kcm9wcGVkRWxlbWVudHMuZmlsdGVyKChlLCBpKSA9PiB7XG4gICAgICAgIGlmIChlLmlkID09PSB1cGRhdGVkRGF0YS5pZCkge1xuICAgICAgICAgIGluZGV4T2ZQcmVzZW50RWxlbWVudCA9IGk7XG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pLmxlbmd0aDtcbiAgICBjb25zdCBpc1NhbWVJbmRleCA9IGluZGV4T2ZQcmVzZW50RWxlbWVudCA9PT0gZHJvcFBvc2l0aW9uO1xuICAgIGxldCBuZXdFbGVtZW50cyA9IFtdLmNvbmNhdCh0aGlzLnN0YXRlLmRyb3BwZWRFbGVtZW50cyk7XG4gICAgbGV0IGVsZW1lbnRBbHJlYWR5UmVtb3ZlZCA9IGZhbHNlO1xuXG4gICAgLy8gY2hlY2sgZm8gdW5pcXVlIGtleVxuICAgIGlmIChpbnZhbGlkVXBkYXRlZERhdGEgfHwga2V5QWxyZWFkeVByZXNlbnQpIHtcbiAgICAgIGlmIChpc1NhbWVJbmRleCkge1xuICAgICAgICByZXR1cm4gY29yZS5lcnJvcignRHVwbGljYXRlIG9yIGludmFsaWQgSUQnKTtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudEFscmVhZHlSZW1vdmVkID0gdHJ1ZTtcbiAgICAgIG5ld0VsZW1lbnRzID0gbmV3RWxlbWVudHMubWFwKChlKSA9PiB7XG4gICAgICAgIGlmIChlLmlkID09PSB1cGRhdGVkRGF0YS5pZCkge1xuICAgICAgICAgIHJldHVybiB7IC4uLmUsIHJlbW92ZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgZWxlbWVudFRvRHJvcCA9IHtcbiAgICAgIC4uLnVwZGF0ZWREYXRhLFxuICAgICAga2V5OiB1cGRhdGVkRGF0YS5pZCxcbiAgICAgIGRyb3B6b25lSUQsXG4gICAgICBwYXJlbnRJRCxcbiAgICAgIGFsbG93SG9yaXpvbnRhbCxcbiAgICAgIHNob3dCYXNpY0NvbnRlbnQ6IGZhbHNlLFxuICAgICAgdXBkYXRlU3RhdGU6IHRoaXMuX3VwZGF0ZVN0YXRlLFxuICAgICAgcmVtb3ZlRWxlbWVudDogdGhpcy5fcmVtb3ZlRWxlbWVudCxcbiAgICAgIHVwZGF0ZUVsZW1lbnQ6IHRoaXMuX3VwZGF0ZUVsZW1lbnQsXG4gICAgICAvLyBpbml0aWFsRWxlbWVudHMgaGVscHMgZmlndXJpbmcgb3V0IGluaXREb25lXG4gICAgICBpbml0aWFsRWxlbWVudHM6IHRoaXMuc3RhdGUuaW5pdGlhbEVsZW1lbnRzLFxuICAgICAgZmx1c2hEcm9wcGVkRWxlbWVudHM6IHRoaXMuX2ZsdXNoRHJvcHBlZEVsZW1lbnRzLFxuICAgICAgY2hlY2tBbmRSZW1vdmVFbGVtZW50OiB0aGlzLl9jaGVja0FuZFJlbW92ZUVsZW1lbnRcbiAgICB9O1xuXG4gICAgaWYgKGRyb3BQb3NpdGlvbiA+IDApIHtcbiAgICAgIG5ld0VsZW1lbnRzID0gW1xuICAgICAgICAuLi5uZXdFbGVtZW50cy5zbGljZSgwLCBkcm9wUG9zaXRpb24pLFxuICAgICAgICBlbGVtZW50VG9Ecm9wLFxuICAgICAgICAuLi5uZXdFbGVtZW50cy5zbGljZShkcm9wUG9zaXRpb24pXG4gICAgICBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdFbGVtZW50cyA9IFtcbiAgICAgICAgZWxlbWVudFRvRHJvcCxcbiAgICAgICAgLi4ubmV3RWxlbWVudHNcbiAgICAgIF07XG4gICAgfVxuXG4gICAgaWYgKCFpc1NhbWVJbmRleCkge1xuICAgICAgbmV3RWxlbWVudHMgPSBuZXdFbGVtZW50cy5maWx0ZXIoZSA9PiAhZS5yZW1vdmUpO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIG5ldyBsaXN0IGFnYWluc3QgbWF4LWNhcGFjaXR5XG4gICAgaWYgKGNhcGFjaXR5ICYmIG5ld0VsZW1lbnRzLmxlbmd0aCA+IGNhcGFjaXR5KSB7XG4gICAgICByZXR1cm4gY29yZS5lcnJvcihgTWF4aW11bSBjYXBhY2l0eSBvZiBjYW52YXMoJHtkcm9wem9uZUlEfSkgaXMgJHtjYXBhY2l0eX1gKTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgdGhlIGN1cnJlbnQgbGlzdFxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZHJvcHBlZEVsZW1lbnRzOiBuZXdFbGVtZW50c1xuICAgIH0sICgpID0+IHtcbiAgICAgIC8vIHJlbW92ZSBlbGVtZW50IGZyb20gcHJldmlvdXMgY2FudmFzXG4gICAgICBpZiAoIWVsZW1lbnRBbHJlYWR5UmVtb3ZlZCAmJiBkcmFnZ2VkRWxlbWVudCAmJiB0eXBlb2YgZHJhZ2dlZEVsZW1lbnQuY2hlY2tBbmRSZW1vdmVFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRyYWdnZWRFbGVtZW50LmNoZWNrQW5kUmVtb3ZlRWxlbWVudCgpO1xuICAgICAgfVxuXG4gICAgICAvLyB1cGRhdGUgdGhlIGFwcGxpY2F0aW9uIHN0YXRlXG4gICAgICB0aGlzLl91cGRhdGVTdGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gYWRkaW5nIGRyb3BwaW5nIGNsYXNzIHRvIGRyb3B6b25lLCBpdCBjYW4gYmUgdXNlZCBmb3IgYW5pbWF0aW9uIHB1cnBvc2VcbiAgICB0aGlzLmNhbnZhc1JlZi5jdXJyZW50LmNsYXNzTGlzdC5hZGQoJ2Ryb3BwaW5nJyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmNhbnZhc1JlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3BwaW5nJyk7XG4gICAgfSwgNTAwKTtcblxuICAgIHJldHVybiB7XG4gICAgICBkcm9wem9uZUlELFxuICAgICAgZWxlbWVudHM6IG5ld0VsZW1lbnRzXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBmdW5jdGlvbiB0byByZW5kZXIgdGhlIGRyYWdnZWQgZWxlbWVudFxuICAgKiBAcGFyYW0gcHJvcHMge09iamVjdH0gLSBBbiBvYmplY3Qgd2hpY2ggaG9sZCB0aGUgaW5mbyBvZiBkcmFnZ2VkIGVsZW1lbnQvY29tcG9uZW50XG4gICAqIEByZXR1cm5zIEpTWFxuICAgKi9cbiAgX3JlbmRlckRyYWdJdGVtID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IGNvcmUuZ2V0UmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cygpLmZpbmQoZSA9PiBlLnR5cGUgPT09IHByb3BzLnR5cGUpO1xuICAgIHJldHVybiBlbGVtZW50ID8gPGVsZW1lbnQuY29tcG9uZW50IHsuLi5wcm9wc30gLz4gOiBudWxsO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZHJvcHBlZEVsZW1lbnRzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHsgY2FwYWNpdHksIGlkLCBwbGFjZWhvbGRlciB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBzcGFjZUF2YWlsYWJsZSA9IGNhcGFjaXR5ID8gY2FwYWNpdHkgPiBkcm9wcGVkRWxlbWVudHMubGVuZ3RoIDogdHJ1ZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHJlZj17dGhpcy5jYW52YXNSZWZ9XG4gICAgICAgIGNsYXNzTmFtZT17YCR7IXNwYWNlQXZhaWxhYmxlID8gJ25vLXNwYWNlJyA6ICcnfSAke2lkID09PSAncm9vdCcgPyAnY2FudmFzJyA6ICcnfSAkeyFkcm9wcGVkRWxlbWVudHMubGVuZ3RoID8gJ2VtcHR5JyA6ICcnfSBkcm9wem9uZWB9XG4gICAgICAgIG9uRHJhZ092ZXI9e3RoaXMuX29uRHJhZ092ZXJ9XG4gICAgICAgIG9uRHJhZ0xlYXZlPXt0aGlzLl9vbkRyYWdMZWF2ZX1cbiAgICAgICAgb25EcmFnRW50ZXI9e3RoaXMuX29uRHJhZ0VudGVyfVxuICAgICAgICBvbkRyb3A9e3RoaXMuX29uRHJvcH1cbiAgICAgICAgb25EcmFnRW5kPXt0aGlzLl9vbkRyYWdFbmR9XG4gICAgICA+XG4gICAgICAgIHtcbiAgICAgICAgICBkcm9wcGVkRWxlbWVudHMubWFwKChlLCBpKSA9PiAoXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEcmFnSXRlbSh7XG4gICAgICAgICAgICAgIC4uLmUsXG4gICAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgICBzcGFjZUF2YWlsYWJsZSxcbiAgICAgICAgICAgICAgaW5pdERvbmU6IHRoaXMuc3RhdGUuaW5pdERvbmUsXG4gICAgICAgICAgICAgIGRyb3B6b25lUHJvcHM6IHtcbiAgICAgICAgICAgICAgICBpbml0RG9uZTogdGhpcy5zdGF0ZS5pbml0RG9uZSxcbiAgICAgICAgICAgICAgICBwYXJlbnRJRDogZS5pZFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICkpXG4gICAgICAgIH1cblxuICAgICAgICB7XG4gICAgICAgICAgIWRyb3BwZWRFbGVtZW50cy5sZW5ndGggP1xuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZHJvcHpvbmUtcGxhY2Vob2xkZXJcIj57cGxhY2Vob2xkZXJ9PC9wPiA6IG51bGxcbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5Ecm9wem9uZS5wcm9wVHlwZXMgPSB7XG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNhcGFjaXR5OiBQcm9wVHlwZXMubnVtYmVyLFxuICBvbkRyb3A6IFByb3BUeXBlcy5mdW5jLFxuICBvbkVsZW1lbnRNb3ZlOiBQcm9wVHlwZXMuZnVuYyxcbiAgYWxsb3dIb3Jpem9udGFsOiBQcm9wVHlwZXMuYm9vbCxcbiAgaW5pdGlhbEVsZW1lbnRzOiBQcm9wVHlwZXMuYXJyYXlPZihPYmplY3QpLFxuICBwYXJlbnRJRDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBwbGFjZWhvbGRlcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgUHJvcFR5cGVzLnN0cmluZyxcbiAgICBQcm9wVHlwZXMubm9kZVxuICBdKVxufTtcblxuRHJvcHpvbmUuZGVmYXVsdFByb3BzID0ge1xuICBpbml0aWFsRWxlbWVudHM6IFtdLFxuICBwbGFjZWhvbGRlcjogJ0Ryb3AgSGVyZScsXG4gIG9uRWxlbWVudE1vdmU6ICgpID0+ICh0cnVlKVxufTtcblxuZXhwb3J0IGRlZmF1bHQgRHJvcHpvbmU7XG4iLCJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8gKyBcIiBcIiArIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyogVmVyeSBiYXNpYyBzdHlsZSAqL1xcblxcbi8qIFByZXZlbnQgdGhlIHRleHQgY29udGVudHMgb2YgZHJhZ2dhYmxlIGVsZW1lbnRzIGZyb20gYmVpbmcgc2VsZWN0YWJsZS4gKi9cXG5bZHJhZ2dhYmxlXSB7XFxuICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcblxcbiAgLyogUmVxdWlyZWQgdG8gbWFrZSBlbGVtZW50cyBkcmFnZ2FibGUgaW4gb2xkIFdlYktpdCAqL1xcbiAgLWtodG1sLXVzZXItZHJhZzogZWxlbWVudDtcXG4gIC13ZWJraXQtdXNlci1kcmFnOiBlbGVtZW50O1xcbn1cXG5cXG4vKiBjbGFzcyBnZXRzIGFwcGVuZGVkIHRvIGNhbnZhcyB3aGVuIHVzZXIgZHJhZ2dpbmcgb3ZlciBvbiBpdCAqL1xcbi5pbnNpZGUge1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgMjZweCAwLjVweCByZ2JhKDIwLCAxODAsIDgxLCAwLjc1KTtcXG4gIC1tb3otYm94LXNoYWRvdzogaW5zZXQgMCAwIDI2cHggMC41cHggcmdiYSgyMCwgMTgwLCA4MSwgMC43NSk7XFxuICBib3gtc2hhZG93OiBpbnNldCAwIDAgMjZweCAwLjVweCByZ2JhKDIwLCAxODAsIDgxLCAwLjc1KTtcXG59XFxuXFxuLnRyYXNoLWJveC5pbnNpZGUsXFxuLmRyb3B6b25lLmluc2lkZS5uby1zcGFjZSB7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCAyNnB4IDAuNXB4IHJnYmEoMjMwLCAyMywgMjMsIDAuNSk7XFxuICAtbW96LWJveC1zaGFkb3c6IGluc2V0IDAgMCAyNnB4IDAuNXB4IHJnYmEoMjMwLCAyMywgMjMsIDAuNzUpO1xcbiAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDI2cHggMC41cHggcmdiYSgyMzAsIDIzLCAyMywgMC43NSk7XFxufVxcblxcbi5kcm9wem9uZSB7XFxuICB3aWR0aDogMTAwJTtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYmFja2dyb3VuZDogI2YwZmFmZjtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMjc3YmQ7XFxufVxcblxcbi5kcm9wem9uZS5lbXB0eSB7XFxuICBwYWRkaW5nOiA0MHB4O1xcbn1cXG5cXG4ucGFsZXR0ZSB7XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgYmFja2dyb3VuZDogI2ZmZjtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjMDE1NzliO1xcbn1cXG5cXG4uZHJhZy1pdGVtIHtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBjb2xvcjogIzAxNTc5YjtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjNlNWZjO1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzAxNTc5YjtcXG59XFxuXFxuLmlubGluZS5kcmFnLWl0ZW0ge1xcbiAgbWFyZ2luOiAwIDEwcHg7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxufVxcblxcbi5kcm9wem9uZS1wbGFjZWhvbGRlciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGNvbG9yOiAjMDE1NzliO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHRvcDogY2FsYyg1MCUgLSAxMHB4KTtcXG4gIGFuaW1hdGlvbi1uYW1lOiBjaGFuZ2VDb2xvcjtcXG4gIGFuaW1hdGlvbi1kdXJhdGlvbjogMnM7XFxuICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dDtcXG4gIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlO1xcbn1cXG5cXG5Aa2V5ZnJhbWVzIGNoYW5nZUNvbG9yIHtcXG4gIDI1JSB7XFxuICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XFxuICAgIG9wYWNpdHk6IDE7XFxuICB9XFxuXFxuICA3NSUge1xcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xcbiAgICBvcGFjaXR5OiAwLjU7XFxuICB9XFxufVxcblxcbi5wYWxldHRlLXdyYXBwZXIgLmRyYWctaXRlbSB7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMTU3OWI7XFxufVxcblxcbi5kcmFnLWl0ZW0gKyBkaXYge1xcbiAgbWFyZ2luLXRvcDogMTBweDtcXG59XFxuXFxuLmRyYWctaXRlbS5hZnRlcixcXG4uZHJhZy1pdGVtLmJlZm9yZSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5kcmFnLWl0ZW0uYWZ0ZXI6OmFmdGVyIHtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgd2lkdGg6IDUwJTtcXG4gIGhlaWdodDogMXB4O1xcbiAgYmFja2dyb3VuZDogIzE0YjQ1MTtcXG4gIGxlZnQ6IDUwJTtcXG4gIGJvdHRvbTogLTFweDtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggNHB4IDEwcHggMHB4IHJnYmEoMjAsIDE4MCwgODEsIDEpO1xcbiAgLW1vei1ib3gtc2hhZG93OiAwcHggNHB4IDEwcHggMHB4IHJnYmEoMjAsIDE4MCwgODEsIDEpO1xcbiAgYm94LXNoYWRvdzogMHB4IDRweCAxMHB4IDBweCByZ2JhKDIwLCAxODAsIDgxLCAxKTtcXG59XFxuXFxuLmRyYWctaXRlbS5iZWZvcmU6OmJlZm9yZSB7XFxuICBjb250ZW50OiAnJztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiA1MCU7XFxuICBoZWlnaHQ6IDFweDtcXG4gIGJhY2tncm91bmQ6ICMxNGI0NTE7XFxuICBsZWZ0OiA1MCU7XFxuICB0b3A6IC0xcHg7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwKTtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IC0xcHggMTBweCAwLjNweCByZ2JhKDIzLCAxODAsIDgxLCAxKTtcXG4gIC1tb3otYm94LXNoYWRvdzogMHB4IC0xcHggMTBweCAwLjNweCByZ2JhKDIzLCAxODAsIDgxLCAxKTtcXG4gIGJveC1zaGFkb3c6IDBweCAtMXB4IDEwcHggMC4zcHggcmdiYSgyMywgMTgwLCA4MSwgMSk7XFxufVxcblxcbi5pbmxpbmUuZHJhZy1pdGVtLmJlZm9yZTo6YmVmb3JlIHtcXG4gIHdpZHRoOiAxcHg7XFxuICBoZWlnaHQ6IDUwJTtcXG4gIGxlZnQ6IC0xcHg7XFxuICByaWdodDogdW5zZXQ7XFxuICB0b3A6IDUwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIC01MCUpO1xcbn1cXG5cXG4uaW5saW5lLmRyYWctaXRlbS5hZnRlcjo6YWZ0ZXIge1xcbiAgd2lkdGg6IDFweDtcXG4gIGhlaWdodDogNTAlO1xcbiAgcmlnaHQ6IC0xcHg7XFxuICBsZWZ0OiB1bnNldDtcXG4gIHRvcDogdW5zZXQ7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAtNTAlKTtcXG59XFxuXFxuLnRyYXNoLWJveCB7XFxuICBwYWRkaW5nOiAzMHB4IDEwcHg7XFxuICBtYXJnaW46IDEwcHggMDtcXG4gIGNvbG9yOiAjYjcxYzFjO1xcbiAgYmFja2dyb3VuZDogI2ZmY2RkMjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNiNzFjMWM7XFxufVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5pbXBvcnQgY29yZSBmcm9tICcuLi8uLi9jb3JlL2NvcmUnO1xuaW1wb3J0IHN0YXRlIGZyb20gJy4uLy4uL2NvcmUvc3RhdGUnO1xuXG5jbGFzcyBQcmV2aWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY3VycmVudFN0YXRlOiBzdGF0ZS5nZXRTdGF0ZSgpXG4gICAgfTtcblxuICAgIHRoaXMucmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cyA9IGNvcmUuZ2V0UmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cygpO1xuICAgIHN0YXRlLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fb25TdGF0ZUNoYW5nZSk7XG4gIH1cblxuICAvLyBrZWVwIHRyYWNrIG9mIHN0YXRlIHRyZWUgY2hhbmdlc1xuICBfb25TdGF0ZUNoYW5nZSA9IChuZXdTdGF0ZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY3VycmVudFN0YXRlOiBuZXdTdGF0ZVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIHJlY3VyZXNpdmUgZnVuY3Rpb24gdG8gaXRlcmF0ZSB0aHJvdWdoIGFsbCBub2RlIG9mIHN0YXRlIHRyZWUgYW5kXG4gICAqIHJlbmRlciBhcHByb3ByYXRlIGNvbXBvbmVudCBhbmQgcGFzcyBuZWNlc3NhcnkgcHJvcHNcbiAgICogQHBhcmFtIGVsZW1lbnQge09iamVjdH0gLSBpbmZvbWF0aW9uIG9mIHN0YXRlIHRyZWUgbm9kZVxuICAgKiBAcmV0dXJucyB7SlNYfSAtIFByZXZpZXcvSlNYIHJlcHJlc2VudGF0aW9uIG9mIGN1cnJlbnQgc3RhdGUgdHJlZVxuICAgKi9cbiAgX3JlbmRlckVsZW1lbnRJblByZXZpZXdNb2RlID0gKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHt9O1xuICAgIGNvbnN0IGVsZW1lbnREYXRhID0gdGhpcy5yZWdpc3RlcmVkUGFsZXR0ZUVsZW1lbnRzXG4gICAgICAuZmluZChlID0+IGUudHlwZSA9PT0gZWxlbWVudC50eXBlKTtcblxuICAgIC8vIGVsZW1lbnQgaGFzIHN1YiBmaWVsZHMsIHJlbmRlciB0aG9zZSBmaWVsZHMgZmlyc3RcbiAgICAvLyBhbmQgdGhlbiBjb21lIGJhY2sgdG8gY3VycmVudCBmaWVsZFxuICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQuZmllbGRzKSkge1xuICAgICAgZWxlbWVudC5maWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgICAgY2hpbGRyZW5bZmllbGQuZHJvcHpvbmVJRF0gPSBjaGlsZHJlbltmaWVsZC5kcm9wem9uZUlEXSB8fCBbXTtcbiAgICAgICAgY2hpbGRyZW5bZmllbGQuZHJvcHpvbmVJRF0gPSBjaGlsZHJlbltmaWVsZC5kcm9wem9uZUlEXVxuICAgICAgICAgIC5jb25jYXQodGhpcy5fcmVuZGVyRWxlbWVudEluUHJldmlld01vZGUoZmllbGQpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIHJlbmRlciBjb3JyZXNwb25kaW5nIGNvbXBvbmVudCBhbmQgcGFzcyBuZWNlc3NhcnkgcHJvcHNcbiAgICAvLyBzaG93UHJldmlldyBpcyBtYW5kYXRvcnlcbiAgICByZXR1cm4gKFxuICAgICAgPGVsZW1lbnREYXRhLmNvbXBvbmVudFxuICAgICAgICBpZD17ZWxlbWVudC5pZH1cbiAgICAgICAga2V5PXtlbGVtZW50LmlkfVxuICAgICAgICBjaGlsZE5vZGU9e2NoaWxkcmVufVxuICAgICAgICB7Li4ueyAuLi5lbGVtZW50LCBzaG93UHJldmlldzogdHJ1ZSwgc2hvd0Jhc2ljQ29udGVudDogZmFsc2UgfX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCByb290ID0gdGhpcy5zdGF0ZS5jdXJyZW50U3RhdGVbMF07XG5cbiAgICAvLyBpZiB5b3Ugd2FudCBtb3JlIGZsZXhpYmxpdHlcbiAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMuY2hpbGRyZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuKHtcbiAgICAgICAgY2hpbGRyZW46IHJvb3QuZmllbGRzLm1hcCh0aGlzLl9yZW5kZXJFbGVtZW50SW5QcmV2aWV3TW9kZSlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIHN0YW5kYXJkIHJlbmRlciAtIG9ubHkgPFByZXZpZXcgLz4gYW5kIGRvbmVcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcmV2aWV3LWNvbnRhaW5lclwiPlxuICAgICAgICB7XG4gICAgICAgICAgcm9vdC5maWVsZHMubWFwKHRoaXMuX3JlbmRlckVsZW1lbnRJblByZXZpZXdNb2RlKVxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cblByZXZpZXcucHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLmZ1bmNcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFByZXZpZXc7XG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IGNvcmUgZnJvbSAnLi4vLi4vY29yZS9jb3JlJztcblxuY2xhc3MgVHJhc2ggZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIC8vIGNyZWF0ZSByZWZyZW5jZSBmb3IgdHJhc2hcbiAgICAvLyB0byBjaGVjayB3aGV0aGVyIGlzIGRyYWdnaW5nIG9uIHRyYXNoIGJveCBvciBub3RcbiAgICB0aGlzLnRyYXNoUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gIH1cblxuICAvKipcbiAgICogZnVuY3Rpb24gdG8gdG9nZ2xlL21hbmFnZSBjbGFzcyhpbnNpZGUpXG4gICAqIGNsYXNzIGdldHMgYXBwZW5kZWQgdG8gY2FudmFzXG4gICAqIEBwYXJhbSB0YXJnZXQge0RPTX0gLSBjdXJyZW50IGNhbnZhcyB1cG9uIHdoaWNoIHVzZSBpcyBob3ZlcmluZ1xuICAgKiBAcGFyYW0gYWN0aW9uIHtTdHJpbmd9IC0gYWRkL3JlbW92ZSAtIG5hbWUgb2YgYWN0aW9uXG4gICAqL1xuICBfbWFuYWdlSW5zaWRlQ2xhc3MgPSAoeyB0YXJnZXQgfSwgYWN0aW9uKSA9PiB7XG4gICAgaWYgKHRoaXMudHJhc2hSZWYuY3VycmVudCA9PT0gdGFyZ2V0KSB7XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0W2FjdGlvbl0oJ2luc2lkZScpO1xuICAgIH1cbiAgfVxuXG4gIF9vbkRyb3AgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgLy8gZ2V0IGRyYWdnZWQgZWxlbWVudFxuICAgIGNvbnN0IGVsZW1lbnRUb0JlVHJhc2hlZCA9IGNvcmUuZ2V0RHJhZ2dlZEVsZW1lbnQoKTtcblxuICAgIC8vIGRvbnQgYWxsb3cgZWxlbWVudHMgd2hpY2ggZGlyZWN0bHkgY29taW5nIGZyb20gcGFsZXR0ZVxuICAgIGlmICghZWxlbWVudFRvQmVUcmFzaGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgeyBvbkJlZm9yZVRyYXNoLCBvbkFmdGVyVHJhc2ggfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyByZW1vdmVFbGVtZW50IH0gPSBlbGVtZW50VG9CZVRyYXNoZWQ7XG4gICAgY29uc3Qgc3RhdHVzID0gb25CZWZvcmVUcmFzaChlbGVtZW50VG9CZVRyYXNoZWQpO1xuXG4gICAgdGhpcy5fbWFuYWdlSW5zaWRlQ2xhc3MoZSwgJ3JlbW92ZScpO1xuXG4gICAgLy8gdXNlciB0cmllZCBhbmQgY29uZmlybSB0byByZW1vdmUgZWxlbWVudFxuICAgIGlmIChzdGF0dXMgJiYgY29yZS5nZXRBdHRlbXB0VG9SZW1vdmUoKSkge1xuICAgICAgLy8gcmVtb3ZlIGVsZW1lbnQgZnJvbSBjdXJyZW50IGNhbnZhc1xuICAgICAgcmVtb3ZlRWxlbWVudChlbGVtZW50VG9CZVRyYXNoZWQuZWxlbWVudElELCAoKSA9PiB7XG4gICAgICAgIC8vIGFja25vd2xlZGdlXG4gICAgICAgIG9uQWZ0ZXJUcmFzaCgpO1xuICAgICAgfSwgdHJ1ZSk7IC8vIHRydWUgLSBkaXNwYXRjaCBgcmVtb3ZlRWxlbWVudGAgZXZlbnRcblxuICAgICAgLy8gZG9uZSBkcmFnZ2luZywgZmx1c2ggdGhlIGRyYWdnZWQgZWxlbWVudFxuICAgICAgY29yZS5zZXREcmFnZ2VkRWxlbWVudChudWxsKTtcbiAgICB9XG5cbiAgICAvLyByZXNldCBhdHRlbXB0IHRvIHJlbW92ZVxuICAgIGNvcmUuc2V0QXR0ZW1wdFRvUmVtb3ZlKGZhbHNlKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gdXNlciBpcyBkcmFnZ2luZyBvdmVyIHRoZSB0cmFzaFxuICAvLyBgcHJldmVudERlZmF1bHRgIC0gUmVxdWlyZWQuIEFsbG93cyB1cyB0byBkcm9wLlxuICAvLyBAcGFyYW0gZSB7ZXZlbnR9XG4gIF9vbkRyYWdPdmVyID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogdXNlciBpcyBsZWF2aW5nIHRoZSB0cmFzaFxuICAgKiBAcGFyYW0gZSB7ZXZlbnR9XG4gICAqL1xuICBfb25EcmFnTGVhdmUgPSAoZSkgPT4ge1xuICAgIHRoaXMuX21hbmFnZUluc2lkZUNsYXNzKGUsICdyZW1vdmUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB1c2VyIGlzIGRyYWdnaW5nIG92ZXIgdHJhc2hcbiAgICogQHBhcmFtIGUge2V2ZW50fVxuICAgKi9cbiAgX29uRHJhZ0VudGVyID0gKGUpID0+IHtcbiAgICBjb25zdCBlbGVtZW50VG9CZVRyYXNoZWQgPSBjb3JlLmdldERyYWdnZWRFbGVtZW50KCk7XG5cbiAgICBpZiAoZWxlbWVudFRvQmVUcmFzaGVkKSB7XG4gICAgICB0aGlzLl9tYW5hZ2VJbnNpZGVDbGFzcyhlLCAnYWRkJyk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHJlZj17dGhpcy50cmFzaFJlZn1cbiAgICAgICAgY2xhc3NOYW1lPVwidHJhc2gtYm94XCJcbiAgICAgICAgb25EcmFnTGVhdmU9e3RoaXMuX29uRHJhZ0xlYXZlfVxuICAgICAgICBvbkRyYWdFbnRlcj17dGhpcy5fb25EcmFnRW50ZXJ9XG4gICAgICAgIG9uRHJhZ092ZXI9e3RoaXMuX29uRHJhZ092ZXJ9XG4gICAgICAgIG9uRHJvcD17dGhpcy5fb25Ecm9wfVxuICAgICAgPlxuICAgICAgICB7IHRoaXMucHJvcHMuY2hpbGRyZW4gfHwgPHNwYW4+VHJhc2ggQm94PC9zcGFuPiB9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cblRyYXNoLnByb3BUeXBlcyA9IHtcbiAgb25CZWZvcmVUcmFzaDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uQWZ0ZXJUcmFzaDogUHJvcFR5cGVzLmZ1bmMsXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuZWxlbWVudCksXG4gICAgUHJvcFR5cGVzLmVsZW1lbnRcbiAgXSksXG59O1xuXG5UcmFzaC5kZWZhdWx0UHJvcHMgPSB7XG4gIG9uQmVmb3JlVHJhc2g6ICgpID0+ICh0cnVlKSxcbiAgb25BZnRlclRyYXNoOiAoKSA9PiAodHJ1ZSlcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRyYXNoO1xuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCBjb3JlIGZyb20gJy4uLy4uL2NvcmUvY29yZSc7XG5cbmNsYXNzIFBhbGV0dGUgZXh0ZW5kcyBDb21wb25lbnQge1xuICAvKipcbiAgICogZnVuY3Rpb24gdG8gcmVuZGVyIHRoZSBkcmFnZ2VkIGVsZW1lbnRcbiAgICogQHBhcmFtIHByb3BzIHtPYmplY3R9IC0gQW4gb2JqZWN0IHdoaWNoIGhvbGQgdGhlIGluZm8gb2YgZHJhZ2dlZCBlbGVtZW50L2NvbXBvbmVudFxuICAgKiBAcmV0dXJucyBKU1hcbiAgICovXG4gIF9yZW5kZXJMaXN0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IGNvcmUuZ2V0UmVnaXN0ZXJlZFBhbGV0dGVFbGVtZW50cygpLmZpbmQoZSA9PiBlLnR5cGUgPT09IHByb3BzLnR5cGUpO1xuICAgIHJldHVybiBlbGVtZW50ID8gPGVsZW1lbnQuY29tcG9uZW50IHsuLi5wcm9wc30gLz4gOiBudWxsO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcGFsZXR0ZUVsZW1lbnRzIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFsZXR0ZVwiPlxuICAgICAgICB7XG4gICAgICAgICAgcGFsZXR0ZUVsZW1lbnRzLm1hcChpdGVtID0+IChcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlckxpc3QoeyAuLi5pdGVtLCBrZXk6IGl0ZW0uaWQsIHNob3dCYXNpY0NvbnRlbnQ6IHRydWUgfSlcbiAgICAgICAgICApKVxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cblBhbGV0dGUucHJvcFR5cGVzID0ge1xuICBwYWxldHRlRWxlbWVudHM6IFByb3BUeXBlcy5hcnJheU9mKChwcm9wVmFsdWUpID0+IHtcbiAgICBsZXQgaXNFcnJvciA9IGZhbHNlO1xuXG4gICAgLy8gYWxsIHBhbGV0dGUgZWxlbWVudHMgc2hvdWxkIGhhdmUgdW5pcXVlIElEXG4gICAgcHJvcFZhbHVlLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtICYmICFpdGVtLmlkKSB7XG4gICAgICAgIGlzRXJyb3IgPSAnYGlkYCBpcyByZXF1aXJlZCBpbiBhbGwgcGFsZXR0ZSBlbGVtZW50JztcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BWYWx1ZS5maWx0ZXIoaSA9PiBpLmlkID09PSBpdGVtLmlkKS5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlzRXJyb3IgPSAnYGlkYCBvZiBwYWxldHRlIGVsZW1lbnQgc2hvdWxkIGJlIHVuaXF1ZSc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaXNFcnJvciA/IG5ldyBFcnJvcihpc0Vycm9yKSA6IHRydWU7XG4gIH0pXG59O1xuXG5QYWxldHRlLmRlZmF1bHRQcm9wcyA9IHtcbiAgcGFsZXR0ZUVsZW1lbnRzOiBbXVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUGFsZXR0ZTtcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5pbXBvcnQgY29yZSBmcm9tICcuLi8uLi9jb3JlL2NvcmUnO1xuXG5jbGFzcyBEcmFnZ2FibGUgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuZHJhZ0VsZW1SZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgLy8gdXBkYXRlIHRoZSBzdGF0ZSBvbmNlIHBhcmVudCBzdGF0ZSBpbml0aWFsaXNhdGlvbiBpcyBkb25lXG4gICAgaWYgKHRoaXMucHJvcHMuaW5pdERvbmUgIT09IG5leHRQcm9wcy5pbml0RG9uZSAmJiBuZXh0UHJvcHMuaW5pdERvbmUpIHtcbiAgICAgIHRoaXMucHJvcHMudXBkYXRlU3RhdGUoKTtcbiAgICB9XG4gIH1cblxuICBfZHJhZ0VuZCA9IChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIHRoaXMuZHJhZ0VsZW1SZWYuY3VycmVudC5jbGFzc0xpc3QucmVtb3ZlKCdiZWZvcmUnLCAnYWZ0ZXInKTtcblxuICAgIC8vIGRvbmUgZHJhZ2dpbmcsIHJlc2V0IGRyYWdnZWQgZWxlbWVudFxuICAgIGNvcmUuc2V0RHJhZ2dlZEVsZW1lbnQobnVsbCk7XG4gIH1cblxuICBfZHJhZ1N0YXJ0ID0gKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICB0eXBlLFxuICAgICAgbmFtZSxcbiAgICAgIGZpZWxkcyxcbiAgICAgIHBheWxvYWQsXG4gICAgICBkcm9wem9uZUlELFxuICAgICAgcmVtb3ZlRWxlbWVudCxcbiAgICAgIGNoZWNrQW5kUmVtb3ZlRWxlbWVudFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGlkLFxuICAgICAgdHlwZSxcbiAgICAgIG5hbWUsXG4gICAgICBwYXlsb2FkXG4gICAgfTtcblxuICAgIGlmIChmaWVsZHMpIHtcbiAgICAgIGRhdGEuZmllbGRzID0gZmllbGRzO1xuICAgIH1cblxuICAgIGUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnY29weSc7XG4gICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgnZGF0YScsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTsgLy8gcmVxdWlyZWQsIHdlIGNhbm4ndCBwYXNzIEpTIG9iamVjdFxuXG4gICAgLy8gaWYgZWxlbWVudCBpcyBhbHJlYWR5IHByZXNlbnQgaW4gc29tZSBjYW52YXNcbiAgICAvLyB0aGVuIHNldCBkcmFnZ2VkRWxlbWVudCwgc28gdGhhdCB0aGlzIHdpbGwgaGVscCB0byByZW1vdmUgdGhlIGVsZW1lbnQgZnJvbSBwcmV2aW91cyBjYW52YXNcbiAgICBpZiAoZHJvcHpvbmVJRCkge1xuICAgICAgY29yZS5zZXREcmFnZ2VkRWxlbWVudCh7XG4gICAgICAgIGVsZW1lbnRJRDogaWQsXG4gICAgICAgIGRyb3B6b25lSUQsXG4gICAgICAgIHJlbW92ZUVsZW1lbnQsXG4gICAgICAgIGNoZWNrQW5kUmVtb3ZlRWxlbWVudFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIHNldCBkcm9wIHBvc2l0aW9uLlxuICAgKiBmaXJzdCBmaW5lIG1pZCBvZiBlbGVtZW50IHVwb24gd2hpY2ggdXNlciBpcyBkcmFnZ2luZyBvdmVyIGFuZFxuICAgKiBiYXNlZCBvbiB0aGF0IGRlY2lkZSB3aGV0aGVyIHVzZXIgdHJ5aW5nIHRvIGRyb3AgYW4gZWxlbWVudCBhYm92ZSBvciBiZWxvd1xuICAgKi9cbiAgX29uRHJhZ092ZXIgPSAoZSkgPT4ge1xuICAgIGNvbnN0IGVsZW1Db3JkID0gdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgaWYgKCF0aGlzLnByb3BzLnNwYWNlQXZhaWxhYmxlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuYWxsb3dIb3Jpem9udGFsKSB7XG4gICAgICBjb25zdCBkcmFnRWxlbVggPSBlLmNsaWVudFg7XG4gICAgICBpZiAoZHJhZ0VsZW1YID49IGVsZW1Db3JkLnggJiYgZHJhZ0VsZW1YIDw9IGVsZW1Db3JkLnggKyBlbGVtQ29yZC53aWR0aCkge1xuICAgICAgICBjb25zdCBtaWRYID0gZWxlbUNvcmQueCArIGVsZW1Db3JkLndpZHRoIC8gMjtcbiAgICAgICAgaWYgKGRyYWdFbGVtWCA8IG1pZFgpIHtcbiAgICAgICAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnYWZ0ZXInKTtcbiAgICAgICAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LmFkZCgnYmVmb3JlJyk7XG4gICAgICAgICAgY29yZS5zZXREcm9wUG9zdGlvbih0aGlzLnByb3BzLmluZGV4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnYmVmb3JlJyk7XG4gICAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5hZGQoJ2FmdGVyJyk7XG4gICAgICAgICAgY29yZS5zZXREcm9wUG9zdGlvbih0aGlzLnByb3BzLmluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZHJhZ0VsZW1ZID0gZS5jbGllbnRZO1xuICAgICAgaWYgKGRyYWdFbGVtWSA+PSBlbGVtQ29yZC55ICYmIGRyYWdFbGVtWSA8PSBlbGVtQ29yZC55ICsgZWxlbUNvcmQuaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IG1pZFkgPSBlbGVtQ29yZC55ICsgZWxlbUNvcmQuaGVpZ2h0IC8gMjtcbiAgICAgICAgaWYgKGRyYWdFbGVtWSA8IG1pZFkpIHtcbiAgICAgICAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnYWZ0ZXInKTtcbiAgICAgICAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LmFkZCgnYmVmb3JlJyk7XG4gICAgICAgICAgY29yZS5zZXREcm9wUG9zdGlvbih0aGlzLnByb3BzLmluZGV4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRyYWdFbGVtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnYmVmb3JlJyk7XG4gICAgICAgICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5hZGQoJ2FmdGVyJyk7XG4gICAgICAgICAgY29yZS5zZXREcm9wUG9zdGlvbih0aGlzLnByb3BzLmluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIF9vbkRyYWdMZWF2ZSA9ICgpID0+IHtcbiAgICAvLyByZW1vdmUgYmVmb3JlL2FmdGVyIGNsYXNzIGZyb20gZHJhZ2dlZCBlbGVtZW50XG4gICAgdGhpcy5kcmFnRWxlbVJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2JlZm9yZScsICdhZnRlcicpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZWxlbWVudFByb3BzLCBkcmFnZ2FibGUsIGFsbG93SG9yaXpvbnRhbCB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgZSA9IG51bGw7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5kcm9wem9uZUlEKSB7XG4gICAgICAvLyBhZGQgdGhpcyByZXF1aXJlZCBmdW5jdGlvbiBvbmx5IGlmIGVsZW1lbnQgaXMgZHJvcHBlZCBpbiBjYW52YXNcbiAgICAgIGUgPSB7XG4gICAgICAgIG9uRHJhZ092ZXI6IHRoaXMuX29uRHJhZ092ZXIsXG4gICAgICAgIG9uRHJhZ0xlYXZlOiB0aGlzLl9vbkRyYWdMZWF2ZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoZHJhZ2dhYmxlKSB7XG4gICAgICBlID0ge1xuICAgICAgICAuLi5lLFxuICAgICAgICBkcmFnZ2FibGU6IHRydWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXt0aGlzLmRyYWdFbGVtUmVmfVxuICAgICAgICBjbGFzc05hbWU9e2BkcmFnLWl0ZW0gJHthbGxvd0hvcml6b250YWwgPyAnaW5saW5lJyA6ICcnfWB9XG4gICAgICAgIG9uRHJhZ1N0YXJ0PXt0aGlzLl9kcmFnU3RhcnR9XG4gICAgICAgIG9uRHJhZ0VuZD17dGhpcy5fZHJhZ0VuZH1cbiAgICAgICAgey4uLmVsZW1lbnRQcm9wc31cbiAgICAgICAgey4uLmV9XG4gICAgICA+XG4gICAgICAgIHtcbiAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuRHJhZ2dhYmxlLnByb3BUeXBlcyA9IHtcbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgaW5pdERvbmU6IFByb3BUeXBlcy5ib29sLFxuICBpbmRleDogUHJvcFR5cGVzLm51bWJlcixcbiAgYWxsb3dIb3Jpem9udGFsOiBQcm9wVHlwZXMuYm9vbCxcbiAgZmllbGRzOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihBcnJheSksXG4gIGRyYWdnYWJsZTogUHJvcFR5cGVzLmJvb2wsXG4gIHNwYWNlQXZhaWxhYmxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgdXBkYXRlU3RhdGU6IFByb3BUeXBlcy5mdW5jLFxuICBkcm9wem9uZUlEOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBwYXlsb2FkOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihPYmplY3QpLFxuICBlbGVtZW50UHJvcHM6IFByb3BUeXBlcy5pbnN0YW5jZU9mKE9iamVjdCksXG4gIHR5cGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5lbGVtZW50KSxcbiAgICBQcm9wVHlwZXMuZWxlbWVudFxuICBdKS5pc1JlcXVpcmVkLFxuICByZW1vdmVFbGVtZW50OiBQcm9wVHlwZXMuZnVuYyxcbiAgY2hlY2tBbmRSZW1vdmVFbGVtZW50OiBQcm9wVHlwZXMuZnVuY1xufTtcblxuRHJhZ2dhYmxlLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2hlY2tBbmRSZW1vdmVFbGVtZW50OiAoKSA9PiAodHJ1ZSksXG4gIGVsZW1lbnRQcm9wczogbnVsbCxcbiAgcGF5bG9hZDogbnVsbCxcbiAgZHJhZ2dhYmxlOiB0cnVlLFxuICB1cGRhdGVTdGF0ZTogKCkgPT4gKHRydWUpXG59O1xuXG5leHBvcnQgZGVmYXVsdCBEcmFnZ2FibGU7XG4iLCJpbXBvcnQgY29yZSBmcm9tICcuL2NvcmUnO1xuaW1wb3J0IHN0YXRlIGZyb20gJy4vc3RhdGUnO1xuXG4vLyBkb250IHdhbnQgYW55IGNvbmZsaWN0cyB3aXRoIEpTIEV2ZW50IGFuZCBDdXN0b21FdmVudCBPYmplY3QgaGVuY2Uga2VlcGluZyBuYW1lIGFzIFJwbUV2ZW50XG5jbGFzcyBScG1FdmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIHN1cHBvcnRlZCBldmVudHNcbiAgICB0aGlzLmV2ZW50ID0ge1xuICAgICAgY2hhbmdlOiBbXSxcbiAgICAgIGZsdXNoOiBbXSxcbiAgICAgIHJlbW92ZUVsZW1lbnQ6IFtdLFxuICAgICAgdXBkYXRlRWxlbWVudDogW11cbiAgICB9O1xuICB9XG5cbiAgLy8gcHJpdmF0ZSBmdW5jdGlvbiB0byB0cmlnZ2VyIGFsbCBjaGFuZ2UgQ0JcbiAgbm90aWZ5U3RhdGVDaGFuZ2UgPSAoKSA9PiB7XG4gICAgLy8gdHJpZ2dlciBhbGwgZXZlbnRzXG4gICAgdGhpcy5ldmVudC5jaGFuZ2UuZm9yRWFjaChlID0+IGUoc3RhdGUuZ2V0U3RhdGUoKSkpO1xuICB9O1xuXG4gIC8vIHByaXZhdGUgZnVuY3Rpb24gdG8gdHJpZ2dlciBhbGwgZmx1c2ggQ0JcbiAgLy8gc3RhdGUgaGFzIGJlZW4gcmVzZXQgdG8gZW1wdHksIHRyaWdnZXIgZmluYWwgY2hhbmdlIGFuZCB0aGVuIGZsdXNoIGV2ZW50XG4gIG5vdGlmeVN0YXRlRmx1c2ggPSAodHJpZ2dlckNoYW5nZSkgPT4ge1xuICAgIGlmICh0cmlnZ2VyQ2hhbmdlKSB7XG4gICAgICB0aGlzLm5vdGlmeVN0YXRlQ2hhbmdlKCk7XG4gICAgfVxuXG4gICAgLy8gdHJpZ2dlciBhbGwgZXZlbnRzXG4gICAgdGhpcy5ldmVudC5mbHVzaC5mb3JFYWNoKGUgPT4gZSh0cnVlKSk7XG4gIH07XG5cbiAgLy8gcHJpdmF0ZSBmdW5jdGlvbiB0byB0cmlnZ2VyIGFsbCBlbGVtZW50IHVwZGF0ZSBDQlxuICBub3RpZnlFbGVtZW50VXBkYXRlID0gKGVsZW1lbnQpID0+IHtcbiAgICAvLyB0cmlnZ2VyIGFsbCBldmVudHNcbiAgICB0aGlzLmV2ZW50LnVwZGF0ZUVsZW1lbnQuZm9yRWFjaChlID0+IGUoZWxlbWVudCkpO1xuICB9O1xuXG4gIC8vIHByaXZhdGUgZnVuY3Rpb24gdG8gdHJpZ2dlciBhbGwgZWxlbWVudCByZW1vdmUgQ0JcbiAgbm90aWZ5RWxlbWVudFJlbW92ZSA9IChlbGVtZW50KSA9PiB7XG4gICAgLy8gdHJpZ2dlciBhbGwgZXZlbnRzXG4gICAgdGhpcy5ldmVudC5yZW1vdmVFbGVtZW50LmZvckVhY2goZSA9PiBlKGVsZW1lbnQpKTtcbiAgfTtcblxuICAvKipcbiAgICogZnVuY3Rpb24gdG8gYWRkIGV2ZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWVcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBjYWxsYmFja1xuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lciA9IChldmVudE5hbWUsIGNiKSA9PiB7XG4gICAgbGV0IHJldHVybkNCID0gbnVsbDtcblxuICAgIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvcmUuZXJyb3IoJ2BjYmAgcGFyYW0gaGFzIHRvIGJlIGZ1bmN0aW9uJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmV2ZW50LCBldmVudE5hbWUpKSB7XG4gICAgICB0aGlzLmV2ZW50W2V2ZW50TmFtZV0ucHVzaChjYik7XG5cbiAgICAgIHJldHVybkNCID0gY2I7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvcmUuZXJyb3IoJ05vIHN1Y2ggZXZlbnQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0dXJuQ0I7XG4gIH07XG5cbiAgLyoqXG4gICAqIGZ1bmN0aW9uIHRvIHJlbW92ZSBldmVudFxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gY2FsbGJhY2tcbiAgICovXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAoZXZlbnROYW1lLCBjYikgPT4ge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5ldmVudCwgZXZlbnROYW1lKSkge1xuICAgICAgdGhpcy5ldmVudFtldmVudE5hbWVdID0gdGhpcy5ldmVudFtldmVudE5hbWVdLmZpbHRlcihlID0+IGUgIT09IGNiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29yZS5lcnJvcignTm8gc3VjaCBldmVudCcpO1xuICAgIH1cbiAgfTtcbn1cblxuY29uc3QgcnBtRXZlbnQgPSBuZXcgUnBtRXZlbnQoKTtcblxuZXhwb3J0IGRlZmF1bHQgcnBtRXZlbnQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFsaWRhdGVGb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICB2YWxpZGF0ZUZvcm1hdChmb3JtYXQpO1xuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgKyAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KSk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBcbiAqL1xuXG5mdW5jdGlvbiBtYWtlRW1wdHlGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYXJnO1xuICB9O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhbmQgZGlzY2FyZHMgaW5wdXRzOyBpdCBoYXMgbm8gc2lkZSBlZmZlY3RzLiBUaGlzIGlzXG4gKiBwcmltYXJpbHkgdXNlZnVsIGlkaW9tYXRpY2FsbHkgZm9yIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIGVuZHBvaW50cyB3aGljaFxuICogYWx3YXlzIG5lZWQgdG8gYmUgY2FsbGFibGUsIHNpbmNlIEpTIGxhY2tzIGEgbnVsbC1jYWxsIGlkaW9tIGFsYSBDb2NvYS5cbiAqL1xudmFyIGVtcHR5RnVuY3Rpb24gPSBmdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge307XG5cbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMgPSBtYWtlRW1wdHlGdW5jdGlvbjtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKGZhbHNlKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlID0gbWFrZUVtcHR5RnVuY3Rpb24odHJ1ZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCA9IG1ha2VFbXB0eUZ1bmN0aW9uKG51bGwpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzO1xufTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgcmV0dXJuIGFyZztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZW1wdHlGdW5jdGlvbjsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcbiAgICAgIC8vIEl0IGlzIHN0aWxsIHNhZmUgd2hlbiBjYWxsZWQgZnJvbSBSZWFjdC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW52YXJpYW50KFxuICAgICAgZmFsc2UsXG4gICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAnVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gJyArXG4gICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcbiAgICApO1xuICB9O1xuICBzaGltLmlzUmVxdWlyZWQgPSBzaGltO1xuICBmdW5jdGlvbiBnZXRTaGltKCkge1xuICAgIHJldHVybiBzaGltO1xuICB9O1xuICAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanNgLlxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IHNoaW0sXG4gICAgYm9vbDogc2hpbSxcbiAgICBmdW5jOiBzaGltLFxuICAgIG51bWJlcjogc2hpbSxcbiAgICBvYmplY3Q6IHNoaW0sXG4gICAgc3RyaW5nOiBzaGltLFxuICAgIHN5bWJvbDogc2hpbSxcblxuICAgIGFueTogc2hpbSxcbiAgICBhcnJheU9mOiBnZXRTaGltLFxuICAgIGVsZW1lbnQ6IHNoaW0sXG4gICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcbiAgICBub2RlOiBzaGltLFxuICAgIG9iamVjdE9mOiBnZXRTaGltLFxuICAgIG9uZU9mOiBnZXRTaGltLFxuICAgIG9uZU9mVHlwZTogZ2V0U2hpbSxcbiAgICBzaGFwZTogZ2V0U2hpbSxcbiAgICBleGFjdDogZ2V0U2hpbVxuICB9O1xuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gZW1wdHlGdW5jdGlvbjtcbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBEcm9wem9uZSBmcm9tICcuLi9Ecm9wem9uZS9Ecm9wem9uZSc7XG5cbi8vIGZ1bmN0aW9uYWwgY29tcG9uZW50IHdoaWNoIGV4dGVuZHMgRHJvcHpvbmUgYnV0IHdpdGggc29tZSBmaXhlZCBwcm9wZXJ0aWVzIC0gaWQgYW5kIHBhcmVudElEXG4vLyBib3RoIHByb3BzIHNldCB0byBgcm9vdGAgLSByZXF1aXJlZCBzaW5jZSBhcHBsaWNhdGlvbiBzdGF0ZSBob2xkcyBgcm9vdGAgYXMgcGFyZW50IG5vZGVcbi8vIGRlZmF1bHQgaW5pdERvbmUgc2V0IHRvIHRydWVcbmNvbnN0IENhbnZhcyA9IHByb3BzID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJtYWluLWNhbnZhc1wiPlxuICAgIDxEcm9wem9uZSB7Li4ucHJvcHN9IHBhcmVudElEPVwicm9vdFwiIGlkPVwicm9vdFwiIGluaXREb25lIC8+XG4gIDwvZGl2PlxuKTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzO1xuIiwiLy8gaW1wb3J0IGFsbCBjb21wb25lbnRzXG5pbXBvcnQgQ2FudmFzIGZyb20gJy4vY29tcG9uZW50cy9DYW52YXMvQ2FudmFzJztcbmltcG9ydCBEcm9wem9uZSBmcm9tICcuL2NvbXBvbmVudHMvRHJvcHpvbmUvRHJvcHpvbmUnO1xuaW1wb3J0IERyYWdnYWJsZSBmcm9tICcuL2NvbXBvbmVudHMvRHJhZ2dhYmxlL0RyYWdnYWJsZSc7XG5pbXBvcnQgUGFsZXR0ZSBmcm9tICcuL2NvbXBvbmVudHMvUGFsZXR0ZS9QYWxldHRlJztcbmltcG9ydCBUcmFzaCBmcm9tICcuL2NvbXBvbmVudHMvVHJhc2gvVHJhc2gnO1xuaW1wb3J0IFByZXZpZXcgZnJvbSAnLi9jb21wb25lbnRzL1ByZXZpZXcvUHJldmlldyc7XG5cbi8vIGltcG9ydCBhbGwgQVBJJ3NcbmltcG9ydCBzdGF0ZSBmcm9tICcuL2NvcmUvc3RhdGUnO1xuaW1wb3J0IGNvcmUgZnJvbSAnLi9jb3JlL2NvcmUnO1xuXG4vLyBpbXBvcnQgYmFzaWMgc3R5bGVcbmltcG9ydCAnLi9zdHlsZS5jc3MnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYWxsIGNvbXBvbmVudHNcbiAgQ2FudmFzLFxuICBEcm9wem9uZSxcbiAgRHJhZ2dhYmxlLFxuICBQYWxldHRlLFxuICBUcmFzaCxcbiAgUHJldmlldyxcblxuICAvLyBhbGwgb3BlbiBBUEknc1xuICBzdGF0ZSxcbiAgY29yZSxcblxuICAvLyBzaW5jZSB0aGlzIGlzIHJldWlyZWQgZnVuY3Rpb24sIGtlZXBpbmcgc2VwcmF0ZVxuICByZWdpc3RlclBhbGV0dGVFbGVtZW50czogY29yZS5yZWdpc3RlclBhbGV0dGVFbGVtZW50c1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=